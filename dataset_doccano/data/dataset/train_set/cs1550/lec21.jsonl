{"id": 300, "segment": ["train_set", "labeled"], "course": "cs1550", "lec": "lec21", "text": "Introduction to Operating Systems\nCS 1550\nSpring 2022\n\nSherif Khattab\nksm73@pitt.edu\n(Some slides are from Silberschatz, Galvin and Gagne \u00a92013)\n\n\fAnnouncements\n\u2022 Upcoming deadlines:\n\u2022 Homework 10: due on 4/11\n\u2022 Project 3: due on 4/11\n\u2022 Lab 4: due on 4/15\n\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n2\n\n\fPrevious lecture \u2026\n\u2022 How to allocate disk blocks to files and directories?\n\u2022 contiguous and linked\n\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n3\n\n\fMuddiest Points (Memory)\n\n\u2022 Is the reference bit initially set to 0 or 1 after a page is\nloaded into memory following a page fault?\n\u2022 Page locking\n\u2022 Unclear on how to use valid bit to indicate page fault.\nIs that because valid bit == 0 means the data at this\naddress is invalid, so we need to fetch a valid data\nfrom disk?\n\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n4\n\n\fMuddiest Points (File System)\n\u2022 Not sure what the numbers in the FAT cells\nrepresent?\n\u2022 Is it better to the int next_block at the beginning or\nend of the structure?\n\u2022 offset calculation was a little quick, can we review it\n\n\u2022 Logical to physical mapping calculation\n\u2022 Are block sizes all the same when using linked\nallocation?\n\u2022 What allocation method is used most commonly in\nmodern OS's?\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n5\n\n\fMuddiest Points (Project 3)\n\u2022 Would you please explain about project 3?\n\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n6\n\n\fProblem of the Day\n\nHow to allocate disk blocks to files and directories?\n\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n7\n\n\fFile Allocation Table (FAT)\n\u2022 Links on disk are slow\n\u2022 Keep linked list in memory\n\n\u2022 Advantage: faster\n\u2022 Disadvantages\n\u2022 Have to copy it to disk at some point\n\u2022 Have to keep in-memory and on-disk\ncopy consistent\n\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n4\n-1\n-1\n-2\n-2\n-1\n3\n-1\n-1\n0\n-1\n-1\n-1\n-1\n-1\n-1\n\nB\n\nA\n\n8\n\n\fFAT Example\n\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n9\n\n\fi-node and FAT\n\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n10\n\n\fUsing a block index for allocation\n\u2022 Store file block addresses\nin an array\nName\ngrades\n\nindex\n4\n\nsize\n4802\n\n0\n\n1\n\n2\n\n3\n\n4\n\n5\n\n6\n\n7\n\n8\n\n9\n\n10\n\n11\n\n\u2022 Array itself is stored in a\ndisk block\n\u2022 Directory has a pointer to\nthis disk block\n\u2022 Non-existent blocks\nindicated by -1\n\n\u2022 Random access easy\n\u2022 Limit on file size?\n\n6\n9\n7\n0\n8\n\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n11\n\n\fMax File Size for Indexed Allocation\n\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n12\n\n\fi-node vs index block\n\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n13\n\n\fUnix Fast File System indexing scheme\nprotection mode\n\ndata\ndata\n\n...\n\nowner & group\ntimestamps\n\ndata\ndata\n\nsize\nblock count\nlink count\n\n...\n\nDirect pointers\n\nsingle indirect\ndouble indirect\ntriple indirect\ninode\n\n...\n\n\u2022\n\u2022\n\u2022\n\u2022\n\u2022\n\u2022\n\u2022\n\u2022\n\u2022\n\u2022\n\u2022\n\n\u2022\n\u2022\n\ndata\ndata\n\n\u2022\n\u2022\n\u2022\n\u2022\n\n\u2022\n\u2022\n\ndata\ndata\n\n\u2022\n\u2022\n\n\u2022\n\u2022\n\ndata\n\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n...\n...\n\n14\n\n\fFFS and Max File Size\n\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n15\n\n\fWhat\u2019s in a directory?\n\u2022 Two types of information\n\u2022\n\u2022\n\nFile names\nFile metadata (size, timestamps, etc.)\n\n\u2022 Basic choices for directory information\n\u2022\n\nStore all information in directory\n\u2022 Fixed size entries\n\u2022 Disk addresses and attributes in directory entry\n\n\u2022\n\nStore names & pointers to index nodes (i-nodes)\nattributes\ngames\nmail\nnews\nresearch\n\nattributes\nattributes\nattributes\nattributes\n\nStoring all information\nin the directory\n\ngames\nmail\nnews\nresearch\n\nUsing pointers to\nindex nodes\n\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\nattributes\nattributes\n\nattributes\n\n16\n\n\fHandling long file names in a directory\n\nCS 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n17\n\n\fFree Block Tracking\n\n10\n\nCS/COE 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n18\n\n\fFree Block Tracking Example 1\n\nCS/COE 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n19\n\n\fFree Block Tracking Example 2\n\nCS/COE 1550 \u2013 Operating Systems \u2013 Sherif Khattab\n\n20\n\n\f", "label": [[344, 355, "Concept"], [384, 394, "Concept"], [399, 405, "Concept"], [492, 505, "Concept"], [577, 587, "Concept"], [591, 603, "Concept"], [628, 637, "Concept"], [650, 660, "Concept"], [678, 687, "Concept"], [848, 859, "Concept"], [896, 899, "Concept"], [943, 953, "Concept"], [998, 1004, "Concept"], [1057, 1084, "Concept"], [1103, 1114, "Concept"], [1139, 1156, "Concept"], [1430, 1441, "Concept"], [1519, 1540, "Concept"], [1542, 1545, "Concept"], [1873, 1876, "Concept"], [1936, 1942, "Concept"], [1947, 1950, "Concept"], [2011, 2022, "Concept"], [2046, 2066, "Concept"], [2180, 2190, "Concept"], [2225, 2235, "Concept"], [2251, 2257, "Concept"], [2381, 2394, "Concept"], [2399, 2417, "Concept"], [2470, 2476, "Concept"], [2480, 2491, "Concept"], [2544, 2581, "Concept"], [2582, 2597, "Concept"], [2615, 2620, "Concept"], [2623, 2628, "Concept"], [2629, 2639, "Concept"], [2657, 2668, "Concept"], [2669, 2679, "Concept"], [2686, 2701, "Concept"], [2703, 2718, "Concept"], [2719, 2734, "Concept"], [2735, 2750, "Concept"], [2751, 2756, "Concept"], [2903, 2906, "Concept"], [3043, 3056, "Concept"], [3064, 3074, "Concept"], [3265, 3276, "Concept"], [3278, 3285, "Concept"], [3455, 3466, "Concept"], [3646, 3665, "Concept"], [3726, 3745, "Concept"], [3812, 3831, "Concept"]], "Comments": []}