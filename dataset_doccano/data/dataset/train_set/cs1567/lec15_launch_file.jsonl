{"id": 304, "segment": ["train_set", "labeled"], "course": "cs1567", "lec": "lec15_launch_file", "text": "Launch File\nThumrongsak Kosiyatrakul\ntkosiyat@cs.pitt.edu\n\nThumrongsak Kosiyatrakul tkosiyat@cs.pitt.edu\n\nLaunch File\n\n\fMultiple Processes for One Application\nRecall that you may have to open multiple console and\nexecute multiple commands just to run one robot application\nExample: Project 2\nTerminal 1: ROS Master\nroscore\n\nTerminal 2: Kobuki Node\nroslaunch kobuki_node minimal.launch\n\nTerminal 3: gscam Node\nroslaunch gscam v4l.launch\n\nTerminal 4: cmvision Node\nroslaunch mypackage cmvision.launch\n\nTerminal 5: Constant command\nrosrun mypackage constant_command.py\n\nTerminal 6: Control node for project 2\nrosrun mypackage project2.py\nThumrongsak Kosiyatrakul tkosiyat@cs.pitt.edu\n\nLaunch File\n\n\fMultiple Processes for One Application\n\nROS allows you to execute one single command which results\nin executing multiple processes\nYou need a launch file\nIn ROS, a launch file is a text file with XML style (tags) with\nthe extension .launch\nTraditionally located in the launch directory under your\npackage\n/home/student/cs1567/src/mypackage/launch\n\nBut it can be located anywhere under your package\n(mypackage) directory\n\nThumrongsak Kosiyatrakul tkosiyat@cs.pitt.edu\n\nLaunch File\n\n\fThe <launch> Tag\n\nAll content of the launch file must be surrounded by the\n<launch> tag:\n<launch>\n<!-- This is a comment -->\n\n</launch>\n\nA comment must be surrounded by <!-- and --> as shown\nabove\n\nThumrongsak Kosiyatrakul tkosiyat@cs.pitt.edu\n\nLaunch File\n\n\fThe <include> Tag\n\nTo let the launch file execute another launch file, use the\n<include> tag\n<launch>\n:\n<!-- roslaunch kobuki_node minimal.launch -->\n<include file=\"$(find kobuki_node)/launch/minimal.launch\"/>\n:\n</launch>\n\nThe $(find kobuki node) will result in the path to the\nlocation of the kobuki node package\nIn case of the kobuki node package, the launch file is located\nunder the launch directory\n\nThumrongsak Kosiyatrakul tkosiyat@cs.pitt.edu\n\nLaunch File\n\n\fThe <include> Tag\nFor other packages, simply navigate to the package\u2019s directory\nusing roscd and look for it\nFor example, gscam:\nstudent@robot:/home/student$ roscd gscam\nstudent@robot:/opt/ros/kinetic/share/gscam$ ls\ncmake\ngscam_nodeletlaunch\nnodelet_plugins.xml\nexamples nodelet_pipeline.launch package.xml\n\nv4l.launch\n\nNote that launch files of gscam package are not in the\nlaunch directory\nThus, for the gscam node:\n<launch>\n:\n<!-- roslaunch gscam v4l.launch -->\n<include file=\"$(find gscam)/v4l.launch\"/>\n:\n</launch>\n\nThumrongsak Kosiyatrakul tkosiyat@cs.pitt.edu\n\nLaunch File\n\n\fThe <node> Tag\nTo let the launch file execute a node, use the <node> tag\n<launch>\n:\n<!-- rosrun mypackage constant_command.py -->\n<node name=\"constant_command\" pkg=\"mypackage\"\ntype=\"constant_command.py\"/>\n:\n</launch>\n\nThe name indicates the name of the node\nIn most case, it should be the same as the in\nrospy.init node()\nDifferent name will overwrite the node name when it is\ninitialized\n\nThe pkg indicates the name of the package\nThe type indicates the name of the executable file\n\nThumrongsak Kosiyatrakul tkosiyat@cs.pitt.edu\n\nLaunch File\n\n\fThe <node> Tag\nLet\u2019s put them all together for project 2 (p2.launch)\n<launch>\n<!-- roslaunch kobuki_node minimal.launch -->\n<include file=\"$(find kobuki_node)/launch/minimal.launch\"/>\n<!-- roslaunch gscam v4l.launch -->\n<include file=\"$(find gscam)/v4l.launch\"/>\n<!-- roslaunch mypackage cmvision.launch -->\n<include file=\"$(find mypackage)/cmvision.launch\"/>\n<!-- rosrun mypackage constant_command.py -->\n<node name=\"constant_command\" pkg=\"mypackage\" type=\"constant_command.py\"/>\n<!-- rosrun mypackage project2.py -->\n<node name=\"project2\" pkg=\"mypackage\" type=\"project2.py\" output=\"screen\" cwd=\"node\"/>\n</launch>\n\nNotes:\nIf your node needs to show output on the console screen, you\nneed to add output=\"screen\" as shown above\nThe cwd=\"node\" specifies the working directory to be the\nlocation of the executable file\nThumrongsak Kosiyatrakul tkosiyat@cs.pitt.edu\n\nLaunch File\n\n\fThe launch File\n\nTo use the previous launch file:\nroslaunch mypackage p2.launch\n\nYou do not need to run the roscore command\nIf the roscore is not currently running, the launch file will\nalso execute the roscore command\n\nYou only need one console screen\nIf all your nodes support Ctrl-C, by pressing Ctrl-C, it will\nkill all program executed by the launch file\n\nThumrongsak Kosiyatrakul tkosiyat@cs.pitt.edu\n\nLaunch File\n\n\f", "label": [[0, 11, "Concept"], [106, 117, "Concept"], [682, 693, "Concept"], [838, 849, "Concept"], [860, 871, "Concept"], [928, 935, "Concept"], [1164, 1175, "Concept"], [1182, 1190, "Concept"], [1253, 1261, "Concept"], [1347, 1359, "Concept"], [1423, 1434, "Concept"], [1441, 1450, "Concept"], [1516, 1525, "Concept"], [1664, 1683, "Concept"], [1731, 1742, "Concept"], [1766, 1777, "Concept"], [1791, 1802, "Concept"], [1824, 1830, "Concept"], [1889, 1900, "Concept"], [1907, 1916, "Concept"], [1990, 1995, "Concept"], [2233, 2246, "Concept"], [2279, 2295, "Concept"], [2472, 2483, "Concept"], [2490, 2496, "Concept"], [2548, 2554, "Concept"], [2790, 2807, "Concept"], [2880, 2883, "Concept"], [2921, 2926, "Concept"], [3017, 3028, "Concept"], [3035, 3041, "Concept"], [3091, 3098, "Concept"], [3727, 3742, "Concept"], [3762, 3772, "Concept"], [3894, 3905, "Concept"], [3912, 3923, "Concept"], [3945, 3956, "Concept"], [4016, 4023, "Concept"], [4039, 4046, "Concept"], [4077, 4088, "Concept"], [4111, 4118, "Concept"], [4187, 4193, "Concept"], [4207, 4213, "Concept"], [4256, 4267, "Concept"], [4316, 4327, "Concept"]], "Comments": []}