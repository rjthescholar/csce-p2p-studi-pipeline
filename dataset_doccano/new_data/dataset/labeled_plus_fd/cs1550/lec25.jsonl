{"id": 18, "segment": ["train_set", "labeled"], "course": "cs1550", "lec": "lec25", "text": "Introduction to Operating Systems\nCS 1550\nSpring 2022\n\nSherif Khattab\nksm73@pitt.edu\n(Some slides are from Silberschatz, Galvin and Gagne \u00a92013)\n\nAnnouncements\n\u2022 Upcoming deadlines:\n\u2022 Homework 12: due on 4/25\n\u2022 Lab 5: due on 5/2\n\u2022 Project 4 and Quiz 4: due on 5/2\n\u2022 Bonus Opportunities\n\u2022 Bonus Homework: due on 5/2\n\u2022 Course Post-Test: due on 5/2\n\u2022 Bonus point for all when OMET response rate >= 80%\n\u2022\n\nCurrently at 25-28%\n\n\u2022\n\nDeadline is Sunday 4/24\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n2\n\nPrevious Lecture ...\n\u2022 Disk arm scheduling\n\u2022 FCFS, SSTF, SCAN, C-SCAN, LOOK, C-LOOk\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n3\n\nMuddiest Points\n\u2022\n\nJust need to study the material more to be honest.\n\n\u2022\n\nDMA and CPU memory competition\n\n\u2022\n\nhardware view of interrupt\n\n\u2022\n\nThanks for bringing in coffee and snacks for the final! It is much\nappreciated\n\n\u2022\n\nonline vs offline problem\n\n\u2022\n\nWhat sort of questions about this material will be on the exam?\n\n\u2022\n\nIn Sharing file, if the directory A is owner of file \"a_file\" and then this\nfile is shared by directory B, Then we delete directory A, Are all files\neven shared files will be deleted and not more accessible, or we\nhave one copy of \"a_file \" in directory of B?\n\n\u2022\n\nCan you please go over File Linking again?\n\n\u2022\n\nHow do you read in the blocks from the disk file for project 4? I know\nto use fseek and fread but I don't know where to go from there.\n\n\u2022\n\nCan you explain the difference between CSCAN and CLOOK?\nCS 1550 - Operating Systems - Sherif Khattab\n\n4\n\nJournaling File System\n\u2022 In a regular file system, changes to files and\ndirectories result in multiple separate writes to disk\n\u2022 prone to power failures\n\n\u2022 Write changes twice\n\u2022 first to an on-disk journal\n\u2022 for efficiency, journal can be put on SSD or NVRAM\n\u2022 data may or may not be written to the journal\n\n\u2022 second to main file system\n\n\u2022 Examples\n\u2022 Windows NTFS\n\u2022 Linux ext3, ext4\nCS 1550 - Operating Systems - Sherif Khattab\n\n5\n\nJournaling File System\n\u2022 Interaction of disk arm scheduling?\n\u2022 out-of-order writes\n\u2022 ext3 and ext4 force disk to flush its cache at certain points\n(barriers)\n\n\u2022 Journaling vs. Log-structured file system\n\u2022 Journaling is not needed in LSFS\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n6\n\nFile Linking (left) vs. File Copying (right)\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n7\n\nMax Partition Size\nBlock size\n\nFAT-12\n\nFAT-16\n\n0.5 KB\n\n2 MB\n\n1 KB\n\n4 MB\n\n2 KB\n\n8 MB\n\n128 MB\n\n4 KB\n\n16 MB\n\n256 MB\n\n1 TB\n\n8 KB\n\n512 MB\n\n2 TB\n\n16 KB\n\n1024 MB\n\n2 TB\n\n32 KB\n\n2048 MB\n\n2 TB\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nFAT-32\n\n8\n\nMax Partition Size\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n9\n\nFile-related kernel structures:\nopen file tables and disk quotas\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n10\n\nHW 10: Q 2-4\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n11\n\nHW 10: Q 10-13\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n12\n\nEffective Disk Access Time\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n13\n\nMinimum and Maximum Seek Time\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n14\n\nAverage Rotational Delay\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n15\n\nBuffering device input\nUser\nspace\n\nUser\nspace\n\nUser\nspace\n\nUser\nspace\n\nKernel\nspace\n\nKernel\nspace\n\nKernel 2\nspace\n\nKernel 2\nspace\n\n1\n\nUnbuffered\ninput\n\nBuffering in\nuser space\n\nBuffer in kernel\nCopy to user space\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n1\n\n3\n\nDouble buffer\nin kernel\n16\n\nI/O Buffering\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n17\n\nProblem of the Day: Protection\n\u2022 Protection is about controlling access of programs,\nprocesses, or users to the system resources (e.g.,\nmemory pages, files, devices, CPUs)\n\u2022 How to decide who can access what?\n\u2022 Specifications must be\n\u2022 Correct\n\u2022 Efficient\n\u2022 Easy to use (or nobody will use them!)\n\nCS/COE 1550 - Operating Systems - Sherif Khattab\n\n18\n\n\u2022\n\n\u2022\n\n\u2022\n\nProtection domains\nA process operates within a protection domain\n\u2022\n\nresources accessible by the process\n\n\u2022\n\neach domain lists objects with permitted operations\n\nDomains can share objects & permissions\n\u2022\n\nObjects can have different permissions in different domains\n\n\u2022\n\nThere need be no overlap between object permissions in different\ndomains\n\nHow can this arrangement be specified more formally?\n\nFile1 [R]\nFile2 [RW]\n\nDomain 1\n\nFile3 [R]\nFile4 [RWX] Printer [W]\nFile5 [RW]\n\nDomain 2\nCS/COE 1550 - Operating Systems - Sherif Khattab\n\nFile3 [W]\nScreen1 [W]\nMouse [R]\n\nDomain 3\n19\n\nProtection matrix\nFile1\n\nDomain1 Read\n\nFile2\n\nFile3\n\nFile4\n\nFile5\n\nPrinter1\n\nRead\nWrite\n\nDomain2\n\nRead\n\nDomain3\n\nWrite\n\nRead\nWrite\nExecute\n\nRead\nWrite\n\nWrite\n\nWrite\n\n\u2022\n\nEach domain has a row in the matrix\n\n\u2022\n\nEach object (resource) has a column in the matrix\n\n\u2022\n\nEntry for <object, column> has the permissions\n\n\u2022\n\nWho's allowed to modify the protection matrix?\n\u2022\n\n\u2022\n\nCamera\n\nRead\n\nWhat changes can they make?\n\nHow is this implemented efficiently?\nCS/COE 1550 - Operating Systems - Sherif Khattab\n\n20\n\nDomains as objects in the protection matrix\nDomain\n\n\u2022\n\n\u2022\n\nFile1\n\nFile2\n\n1 Read\n\nRead\nWrite\n\nFile3\n\nFile4\n\nFile5\n\nPrinter1\n\nCamera\n\nDom1\n\nDom2\n\nDom3\n\nModify\n\n2\n\nRead\n\n3\n\nWrite\n\nRead\nWrite\nExecute\n\nRead\nWrite\n\nWrite\n\nWrite\n\nModify\n\nRead\n\nEnter\n\nSpecify permitted operations on domains in the matrix\n\u2022\n\nDomains may (or may not) be able to modify themselves\n\n\u2022\n\nDomains can modify other domains\n\n\u2022\n\nSome domain transfers (switching) permitted, others not\n\nDoing this allows flexibility in specifying domain permissions\n\u2022\n\nRetains ability to restrict modification of domain policies\nCS/COE 1550 - Operating Systems - Sherif Khattab\n\n21\n\nRepresenting the protection matrix\n\u2022 Need to find an efficient representation of the\nprotection matrix (also called the access matrix)\n\u2022 Most entries in the matrix are empty!\n\u2022 Compress the matrix by:\n\u2022 Associating permissions with each object: access control\nlist\n\u2022 Associating permissions with each domain: capabilities\n\n\u2022 How is this done, and what are the tradeoffs?\n\nCS/COE 1550 - Operating Systems - Sherif Khattab\n\n22\n\nAccess control lists (ACLs)\n\u2022 Each object has a list\nattached to it\n\u2022 List has\n\u2022\n\nFile2\n\nelm: <R,W>\nznm: <R>\nroot: <R,W,X>\n\nelm: <R,X>\nuber: <R,W>\nroot: <R,W>\nall: <R>\n\nProtection domain (User\nname, Group of users, Other)\n\n\u2022\n\nFile1\n\nAccess rights (Read, Write,\nExecute, Others)\n\n\u2022 No entry for domain => no\nrights for that domain\n\u2022 Operating system checks\npermissions when access\nis needed\n\nCS/COE 1550 - Operating Systems - Sherif Khattab\n\n23\n\n\u2022\n\n\u2022\n\nAccess control lists in the real world\nUnix file system\n\u2022\n\n\u2022\n\nAccess list for each file has exactly three domains on it\n\u2022\n\nUser (owner)\n\n\u2022\n\nGroup\n\n\u2022\n\nOthers\n\nRights include read, write, execute: interpreted differently for directories\nand files\n\nAFS\n\u2022\n\nAccess lists only apply to directories: files inherit rights from the directory\nthey're in\n\n\u2022\n\nAccess list may have many entries on it with possible rights:\n\u2022\n\nread, write, lock (for files in the directory)\n\n\u2022\n\nlookup, insert, delete (for the directories themselves),\n\n\u2022\n\nadminister (ability to add or remove rights from the ACL)\nCS/COE 1550 - Operating Systems - Sherif Khattab\n\n24\n\nACL in UNIX\n\nCS/COE 1550 - Operating Systems - Sherif Khattab\n\n25\n\n", "label": [[1510, 1532, "Concept"], [1942, 1964, "Concept"], [1708, 1715, "Concept"], [1734, 1741, "Concept"], [1809, 1816, "Concept"], [1700, 1715, "Concept"], [1830, 1846, "Concept"], [523, 542, "Concept"], [1982, 2001, "Concept"], [2005, 2024, "Concept"], [1869, 1873, "Concept"], [1882, 1886, "Concept"], [2027, 2031, "Concept"], [1888, 1892, "Concept"], [2036, 2040, "Concept"], [2118, 2144, "Concept"], [2175, 2179, "Concept"], [1242, 1254, "Concept"], [2230, 2242, "Concept"], [2254, 2266, "Concept"], [2344, 2354, "Concept"], [2356, 2362, "Concept"], [2364, 2370, "Concept"], [2555, 2561, "Concept"], [2881, 2907, "Concept"], [2979, 2988, "Concept"], [2971, 2988, "Concept"], [3040, 3064, "Concept"], [3410, 3423, "Concept"], [3293, 3309, "Concept"], [3281, 3291, "Concept"], [3318, 3328, "Concept"], [3495, 3505, "Concept"], [3508, 3518, "Concept"], [3836, 3846, "Concept"], [3883, 3893, "Concept"], [4415, 4425, "Concept"], [4757, 4767, "Concept"], [4942, 4952, "Concept"], [5565, 5575, "Concept"], [5633, 5643, "Concept"], [6143, 6153, "Concept"], [3883, 3900, "Concept"], [6143, 6160, "Concept"], [3894, 3900, "Concept"], [3949, 3955, "Concept"], [4254, 4260, "Concept"], [4310, 4316, "Concept"], [4402, 4408, "Concept"], [4589, 4595, "Concept"], [4960, 4966, "Concept"], [5316, 5322, "Concept"], [5412, 5418, "Concept"], [5478, 5484, "Concept"], [5849, 5855, "Concept"], [6154, 6160, "Concept"], [6268, 6274, "Concept"], [6297, 6303, "Concept"], [4415, 4432, "Concept"], [4757, 4774, "Concept"], [4942, 4959, "Concept"], [5565, 5582, "Concept"], [5633, 5650, "Concept"], [5668, 5681, "Concept"], [4025, 4036, "Concept"], [4067, 4078, "Concept"], [4144, 4155, "Concept"], [4713, 4724, "Concept"], [5419, 5430, "Concept"], [5763, 5774, "Concept"], [5827, 5838, "Concept"], [6330, 6341, "Concept"], [6207, 6220, "Concept"], [4746, 4752, "Concept"], [5065, 5071, "Concept"], [5138, 5144, "Concept"], [5252, 5258, "Concept"], [5286, 5292, "Concept"], [5152, 5157, "Concept"], [7003, 7006, "Concept"], [7062, 7065, "Concept"], [6464, 6480, "Concept"], [6671, 6674, "Concept"], [1277, 1281, "Concept"], [4448, 4452, "Concept"], [4492, 4496, "Concept"], [4513, 4517, "Concept"], [4535, 4539, "Concept"], [4555, 4559, "Concept"], [4790, 4794, "Concept"], [4990, 4994, "Concept"], [4996, 5000, "Concept"], [5076, 5080, "Concept"], [5092, 5096, "Concept"], [5112, 5116, "Concept"], [5146, 5150, "Concept"], [6222, 6226, "Concept"], [6598, 6602, "Concept"], [6838, 6842, "Concept"], [1666, 1671, "Concept"], [4497, 4502, "Concept"], [4528, 4533, "Concept"], [4540, 4545, "Concept"], [4560, 4565, "Concept"], [4567, 4572, "Concept"], [4574, 4579, "Concept"], [5001, 5006, "Concept"], [5085, 5090, "Concept"], [5097, 5102, "Concept"], [5117, 5122, "Concept"], [5124, 5129, "Concept"], [5131, 5136, "Concept"], [6228, 6233, "Concept"], [6604, 6609, "Concept"], [6844, 6849, "Concept"], [4546, 4553, "Concept"], [5103, 5110, "Concept"], [6235, 6242, "Concept"], [6611, 6618, "Concept"], [6851, 6855, "Concept"], [6889, 6895, "Concept"], [6897, 6903, "Concept"], [1070, 1076, "Concept"], [6905, 6911, "Concept"], [6950, 6960, "Concept"], [3139, 3143, "Concept"], [3151, 3155, "Concept"], [3163, 3167, "Concept"], [3175, 3179, "Concept"], [3281, 3285, "Concept"], [3318, 3322, "Concept"], [6162, 6166, "Concept"], [6548, 6552, "Concept"], [994, 999, "Concept"], [6554, 6559, "Concept"], [6173, 6178, "Concept"], [6565, 6570, "Concept"], [5356, 5362, "Concept"], [6244, 6250, "Concept"], [6575, 6581, "Concept"]]}