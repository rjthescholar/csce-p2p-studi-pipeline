{"id": 19, "segment": ["train_set", "labeled"], "course": "cs1550", "lec": "lec26", "text": "Introduction to Operating Systems\nCS 1550\nSpring 2022\n\nSherif Khattab\nksm73@pitt.edu\n(Some slides are from Silberschatz, Galvin and Gagne \u00a92013)\n\nAnnouncements\n\u2022 Upcoming deadlines:\n\u2022 Homework 12: due on 4/25\n\u2022 Lab 5: due on 5/2\n\u2022 Project 4 and Quiz 4: due on 5/2\n\u2022 Bonus Opportunities\n\u2022 Bonus Homework: due on 5/2\n\u2022 Course Post-Test: due on 5/2\n\u2022 Bonus point for all when OMET response rate >= 80%\n\u2022\n\nCurrently at 36%\n\n\u2022\n\nDeadline is Sunday 4/24\n\n\u2022 Final Exam\n\u2022 Open book and open notes\nCS 1550 - Operating Systems - Sherif Khattab\n\n2\n\nPrevious Lecture ...\n\u2022 OS Protection\n\u2022 Access Control Matrix\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n3\n\nMuddiest Points\n\u2022 Can I use my laptop for the open book exam? Or should I print\nout the information I need?\n\u2022 Also, can you go over the top hat question for the access\nmatrix again? Is it because dom 2 does not have modify for\ndom 2 itself? What if dom 2 has modify for dom 2?\n\u2022 Could a domain modify access to itself?\n\u2022 can you release more practice exam answer keys? i worry that\ni will study the wrong approach if i can't verify my answers\n\u2022 ACL permissions (3 bit representations)\n\u2022 special flags in ACL\n\u2022 everything :/\n\u2022 How the table thing works and how you can determine which\nthings can/can't be read/written\n\u2022 How did the soccer matches go ?\n\u2022 homework 12 question explained in class\nCS 1550 - Operating Systems - Sherif Khattab\n\n4\n\nProtection\n\u2022 Protection is about controlling access of programs,\nprocesses, or users to the system resources (e.g.,\nmemory pages, files, devices, CPUs)\n\u2022 How to decide who can access what?\n\u2022 Specifications must be\n\u2022 Correct\n\u2022 Efficient\n\u2022 Easy to use (or nobody will use them!)\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n5\n\nDomains as objects in the protection matrix\nDomain\n\n\u2022\n\n\u2022\n\nFile1\n\nFile2\n\n1 Read\n\nRead\nWrite\n\nFile3\n\nFile4\n\nFile5\n\nPrinter1\n\nCamera\n\nDom1\n\nDom2\n\nDom3\n\nModify\n\n2\n\nRead\n\n3\n\nWrite\n\nRead\nWrite\nExecute\n\nRead\nWrite\n\nWrite\n\nWrite\n\nModify\n\nRead\n\nEnter\n\nSpecify permitted operations on domains in the matrix\n\u2022\n\nDomains may (or may not) be able to modify themselves\n\n\u2022\n\nDomains can modify other domains\n\n\u2022\n\nSome domain transfers (switching) permitted, others not\n\nDoing this allows flexibility in specifying domain permissions\n\u2022\n\nRetains ability to restrict modification of domain policies\nCS 1550 - Operating Systems - Sherif Khattab\n\n6\n\nCapabilities\n\u2022\n\nEach process has a capability\nlist\n\n\u2022\n\nList has one entry per object\nthe process can access\n\u2022\n\nObject name\n\n\u2022\n\nObject permissions\n\n\u2022\n\nObjects not listed are not\naccessible\n\n\u2022\n\nHow are these secured?\n\u2022\n\nKept in kernel\n\n\u2022\n\nCryptographically secured\n\nProcess\nA\n\nProcess\nB\n\nFile1: <R,W>\nFile2: <R>\nFile3: <R,W,X>\n\nFile2: <R,W>\nFile4: <R,W,X>\nFile7: <W>\nFile9: <R,W>\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n7\n\nCryptographically protected capability\nServer\n\n\u2022\n\n\u2022\n\nObject\n\nRights\n\nH(Object,Rights,Check)\n\nRights include generic rights (read, write, execute) and\n\u2022\n\nCopy capability\n\n\u2022\n\nCopy object\n\n\u2022\n\nRemove capability\n\n\u2022\n\nDestroy object\n\nServer has a secret (Check) and uses it to verify capabilities presented to it\n\u2022\n\nAlternatively, use public-key signature techniques\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n8\n\nProtecting the access matrix: summary\n\u2022 OS must ensure that the access matrix isn't modified\n(or even accessed) in an unauthorized way\n\u2022 Access control lists\n\u2022 Reading or modifying the ACL is a system call\n\u2022 OS makes sure the desired operation is allowed\n\n\u2022 Capability lists\n\u2022 Can be handled the same way as ACLs: reading and\nmodification done by OS\n\u2022 Can be handed to processes and verified\ncryptographically later on\n\u2022 May be better for widely distributed systems where capabilities\ncan't be centrally checked\nCS 1550 - Operating Systems - Sherif Khattab\n\n9\n\nReference monitor\n\nAll system calls go\nthrough the reference\nmonitor for security\nchecking\n\nProcess\nA\n\nReference monitor\n\nUser\nspace\n\nKernel\nspace\n\nTrusted computing base\nOperating system kernel\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n10\n\n\u2022\n\nFormal models of secure systems\nLimited set of primitive operations on access matrix\n\u2022\n\nCreate/delete object\n\n\u2022\n\nCreate/delete domain\n\n\u2022\n\nInsert/remove right\n\n\u2022\n\nPrimitives can be combined into protection commands\n\n\u2022\n\nOS can enforce policies, but can't decide what policies are\nappropriate\n\n\u2022\n\nQuestion: is it possible to go from an \"authorized\" matrix to an\n\"unauthorized\" one?\n\u2022\n\nIn general, undecidable\n\n\u2022\n\nMay be provable for limited cases\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n11\n\nBell-La Padula multilevel security model\n\u2022\n\nProcesses, objects have\nsecurity level\n\n\u2022\n\nSimple security property\n\n\u2022\n\n\u2022\n\nProcess at level k can only read\nobjects at levels k or lower\n\n* property\n\u2022\n\nProcess at level k can only write\nobjects at levels k or higher\n\n4\n3\n\n\u2022\n\nThese prevent information\n2\nfrom leaking from higher levels\nto lower levels\n\n\u2022\n\nRead down, write up\n\n1\n\n3\n\n5\n\nE\n\n6\n\nC\n\n4\n\nD\n\nB\n\n2\n\n1\n\nA\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nA writes 4\n\n12\n\nBiba multilevel integrity model\n\u2022 Principles to guarantee integrity of data\n\u2022 Simple integrity principle\n\u2022 A process can write only objects at its security level or\nlower\n\u2022 No way to plant fake information at a higher level\n\n\u2022 The integrity * property\n\u2022 A process can read only objects at its security level or\nhigher\n\n\u2022 Read up, write down\n\u2022 Biba is in direct conflict with Bell-La Padula\n\u2022 Difficult to implement both at the same time!\nCS 1550 - Operating Systems - Sherif Khattab\n\n13\n\nCovert channels\n\u2022 Circumvent security model by using more subtle\nways of passing information\n\u2022 Can't directly send data against system's wishes\n\u2022 Send data using \"side effects\"\n\u2022 Allocating resources\n\u2022 Using the CPU\n\n\u2022 Locking a file\n\u2022 Making small changes in legal data exchange\n\n\u2022 Very difficult to plug leaks in covert channels!\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n14\n\nCovert channel using file locking\n\u2022 Exchange information using file locking\n\u2022 Assume n+1 files accessible to both A and B\n\n\u2022 A sends information by\n\u2022 Locking files 0..n-1 according to an n-bit quantity to be\nconveyed to B\n\u2022 Locking file n to indicate that information is available\n\n\u2022 B gets information by\n\u2022 Reading the lock state of files 0..n+1\n\u2022 Unlocking file n to show that the information was received\n\n\u2022 May not even need access to the files (on some\nsystems) to detect lock status!\nCS 1550 - Operating Systems - Sherif Khattab\n\n15\n\nCovert Channel Using File Locking\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n16\n\nSteganography\n\u2022 Hide information in other data\n\u2022 Picture on right has text of 5 Shakespeare plays\n\u2022 Encrypted, inserted into low order bits of color values\n\nZebras\n\nHamlet, Macbeth, Julius Caesar\nMerchant of Venice, King Lear\nCS 1550 - Operating Systems - Sherif Khattab\n\n17\n\nProtection vs Security\nProtection is an internal problem\n\u2022 Assumes users are authenticated and programs are run\nonly by authorized users\n\nSecurity = Protection + defending attacks from\nexternal environment\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n18\n\n\u2022\n\n\u2022\n\nSecurity environment: threats\nGoal\n\nThreat\n\nData confidentiality\n\nExposure of data\n\nData integrity\n\nTampering with data\n\nSystem availability\n\nDenial of service\n\nSecurity goals:\n\u2022\n\nConfidentiality\n\n\u2022\n\nIntegrity\n\n\u2022\n\nAvailability\n\nSomeone attempts to subvert the goals\n\u2022\n\nFun\n\n\u2022\n\nCommercial gain\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n19\n\nProblem of the Day 1: Password Attacks\n\u2022 Passwords can be\n\u2022 stolen,\n\u2022 guessed, or\n\u2022 cracked\n\n\u2022 How would you defend against these attacks?\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n20\n\nUser authentication\n\u2022 Problem: how does the computer know who you are?\n\u2022 Solution: use authentication to identify\n\u2022 Something the user knows\n\u2022 Something the user has\n\u2022 Something the user is\n\n\u2022 This must be done before user can use the system\n\n\u2022 Important: from the computer's point of view...\n\u2022 Anyone who can duplicate your ID is you\n\u2022 Fooling a computer isn't all that hard...\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n21\n\nPassword Stealing\n\u2022 Stealing the password file\n\u2022 Social Engineering\n\u2022 e.g., spoofing login screen\n\n\u2022 Key loggers\n\u2022 e.g., trojan horse programs\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n22\n\nHow should an OS store passwords?\n\u2022 Passwords should be memorable?\n\u2022 Passwords shouldn't be stored \"in the clear\"\n\u2022 Password file is often readable by all system users!\n\u2022 Password must be checked against entry in this file\n\n\u2022 Solution: use hashing to hide \"real\" password\n\u2022 One-way function converting password to meaningless\nstring of digits (Unix password hash, SHA-2)\n\u2022 Difficult to find another password that hashes to the same\nstring\n\u2022 Knowing the hashed value and hash function gives no\nclue to the original password\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n23\n\nStoring passwords\n\u2022 Some OSs use encryption algorithms to hash the\npasswords\n\u2022 Use the password as the key, not the plain text\n\n\u2022 But, what is encryption?\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n24\n\nCryptography\n\u2022 Goal: keep information from those who aren't\nsupposed to see it\n\u2022 Do this by \"scrambling\" the data\n\n\u2022 Use a well-known algorithm to scramble data\n\u2022 Algorithm has two inputs: data & key\n\u2022 Key is known only to \"authorized\" users\n\u2022 Relying upon the secrecy of the algorithm is a very bad\nidea (see WW2 Enigma for an example...)\n\n\u2022 Cracking codes is very difficult, Sneakers and other\nmovies notwithstanding\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n25\n\nCryptography basics\n\u2022\n\nAlgorithms (E, D) are widely known\n\n\u2022\n\nKeys (KE, KD) may be less widely distributed\n\n\u2022\n\nFor this to be effective, the ciphertext should be the only\ninformation that's available to the world\n\n\u2022\n\nPlaintext is known only to the people with the keys (in an ideal\nworld...)\n\nEncryption\nkey\n\nP\n\nKE\n\nKD\n\nC=E(P,KE)\n\nE\n\nPlaintext\n\nD\n\nP\nPlaintext\n\nCiphertext\nEncryption\n\nDecryption\nkey\n\nDecryption\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n26\n\nSecret-key encryption\n\u2022\n\nAlso called symmetric-key encryption\n\n\u2022\n\nMonoalphabetic substitution\n\n\u2022\n\n\u2022\n\nEach letter replaced by different letter\n\nVigenere cipher\n\u2022\n\nUse a multi-character key\nTHEMESSAGE\nELMELMELME\nXSQQPEWLSI\n\n\u2022\n\nBoth are easy to break!\n\n\u2022\n\nGiven the encryption key, easy to generate the decryption key\n\n\u2022\n\nAlternatively, use different (but similar) algorithms for encryption\nand decryption\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n27\n\nModern encryption algorithms\n\u2022 Data Encryption Standard (DES)\n\u2022 Uses 56-bit keys\n\u2022 Same key is used to encrypt & decrypt\n\u2022 Keys used to be difficult to guess\n\u2022 Needed to try 255 different keys, on average\n\u2022 Modern computers can try millions of keys per second with\nspecial hardware\n\u2022 For $250K, EFF built a machine that broke DES quickly in 1998\n\n\u2022 Current algorithms (AES, Blowfish) use 128 bit keys\n\u2022 Adding one bit to the key makes it twice as hard to guess\n\u2022 Must try 2127 keys, on average, to find the right one\n\u2022 At 1015 keys per second, this would require over 1021\nseconds, or 1000 billion years!\n\u2022 Modern encryption isn't usually broken by brute force...\nCS 1550 - Operating Systems - Sherif Khattab\n\n28\n\n\u2022\n\n\u2022\n\nUnbreakable codes\nThere is such a thing as an unbreakable code: one-time pad\n\u2022\n\nUse a truly random key as long as the message to be encoded\n\n\u2022\n\nXOR the message with the key a bit at a time\n\nCode is unbreakable because\n\u2022\n\nKey could be anything\n\n\u2022\n\nWithout knowing key, message could be anything with the correct number\nof bits in it\n\n\u2022\n\nDifficulty: distributing key is as hard as distributing message\n\n\u2022\n\nDifficulty: generating truly random bits\n\u2022\n\nCan't use computer random number generator!\n\n\u2022\n\nMay use physical processes\n\u2022\n\nRadioactive decay\n\n\u2022\n\nLeaky diode\n\n\u2022\n\nLava lamp (!) [https://www.atlasobscura.com/places/encryption-lava-lamps]\nCS 1550 - Operating Systems - Sherif Khattab\n\n29\n\nPublic-key cryptography\n\u2022 Instead of using a single shared secret, keys come in\npairs\n\u2022 One key of each pair distributed widely (public key), Kp\n\n\u2022 One key of each pair kept secret (private or secret key),\nKs\n\u2022 Two keys are inverses of one another, but not identical\n\u2022 Encryption & decryption are the same algorithm, so\nE(Kp,E(Ks,M) = E(Ks,E(Kp,M) = M\n\n\u2022 Currently, most popular method involves primes and\nexponentiation\n\u2022 Difficult to crack unless large numbers can be factored\n\n\u2022 Very slow for large messages\nCS 1550 - Operating Systems - Sherif Khattab\n\n30\n\nDigital signatures\n\nOriginal\ndocument\n\nOne-way\nhash\nfunction\n\nHash\n\nHash result\nencrypted\nwith Ks\n\nDigital\nsignature\n\nReceiver gets\n\n\u2022\n\n\u2022\n\nOriginal\ndocument\n\nDigital\nsignature\n\nDigital signature computed by\n\u2022\n\nApplying one-way hash function to original document\n\n\u2022\n\nEncrypting result with sender's private key\n\nReceiver can verify by\n\u2022\n\nApplying one-way hash function to received document\n\n\u2022\n\nDecrypting signature using sender's public key\n\n\u2022\n\nComparing the two results: equality means document unmodified\nCS 1550 - Operating Systems - Sherif Khattab\n\n31\n\n\u2022\n\nPretty Good Privacy (PGP)\nUses public key encryption\n\u2022\n\nFacilitates key distribution\n\n\u2022\n\nAllows messages to be sent encrypted to a person (encrypt with person's\npublic key)\n\n\u2022\n\nAllows person to send message that must have come from her (encrypt\nwith person's private key)\n\n\u2022\n\nProblem: public key encryption is very slow\n\n\u2022\n\nSolution: use public key encryption to exchange a shared key\n\n\u2022\n\n\u2022\n\nShared key is relatively short (~128 bits)\n\n\u2022\n\nMessage encrypted using symmetric key encryption\n\nPGP can also be used to authenticate sender\n\u2022\n\nUse digital signature and send message as plaintext\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n32\n\nSocial Engineering\n\u2022 Convince a system programmer to add a trap door\n\u2022 Beg admin's secretary (or other people) to help a poor user\nwho forgot password\n\n\u2022 Pretend you're tech support and ask random users for their\nhelp in debugging a problem\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n33\n\nLogin spoofing\nLogin:\n\nLogin:\n\nReal login screen\n\nPhony login screen\n\n\u2022\n\nNo difference between real & phony login screens\n\n\u2022\n\nIntruder sets up phony login, walks away\n\n\u2022\n\nUser logs into phony screen\n\n\u2022\n\n\u2022\n\nPhony screen records user name, password\n\n\u2022\n\nPhony screen prints \"login incorrect\" and starts real screen\n\n\u2022\n\nUser retypes password, thinking there was an error\n\nSolution: don't allow certain characters (ctrl+alt+delete) to be \"caught\"\nCS 1550 - Operating Systems - Sherif Khattab\n\n34\n\n\u2022\n\n\u2022\n\u2022\n\nTrojan horses\nFree program made available to unsuspecting user\n\u2022\n\nActually contains code to do harm\n\n\u2022\n\nMay do something useful as well...\n\nAltered version of utility program on victim's computer\n\u2022\n\nTrick user into running that program\n\nExample (getting superuser access?)\n\u2022\n\nPlace a file called ls in your home directory\n\u2022\n\nFile creates a shell in /tmp with privileges of whoever ran it\n\u2022\n\n\u2022\n\ncp /bin/bash /tmp/.SecretShell && chmod 4755 /tmp/.SecretShell\n\nFile then actually runs the real ls\n\n\u2022\n\nComplain to your sysadmin that you can't see any files in your directory\n\n\u2022\n\nSysadmin runs ls in your directory\n\u2022\n\nHopefully, he runs your ls rather than the real one (depends on his search path)\nCS 1550 - Operating Systems - Sherif Khattab\n\n35\n\nBuffer overflow\nStack\npointer\n\nVariables\nfor main()\n\nSP\nCode\n\n\u2022\n\n\u2022\n\n\u2022\n\nVariables\nfor main()\n\nVariables\nfor main()\n\nReturn addr\n\nReturn addr\n\nA's local\nvariables\n\nA's local\nvariables\n\nBuffer B\n\nSP\n\nCode\n\nBuffer B\n\nCode\n\nAltered\nreturn\naddress\n\nBuffer overflow is a big source of bugs in operating systems\n\u2022\n\nMost common in user-level programs that help the OS do something\n\n\u2022\n\nMay appear in \"trusted\" daemons\n\nExploited by modifying the stack to\n\u2022\n\nReturn to a different address than that intended\n\n\u2022\n\nInclude code that does something malicious\n\nAccomplished by writing past the end of a buffer on the stack\nCS 1550 - Operating Systems - Sherif Khattab\n\n36\n\nProblem of the Day 1: Password Attacks\n\u2022 Passwords can be\n\u2022 stolen,\n\u2022 guessed, or\n\u2022 cracked\n\n\u2022 How would you defend against these attacks?\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n37\n\nPassword Guessing: Sample breakin (from LBL)\n\nLBL> telnet elxsi\nELXSI AT LBL\nLOGIN: root\nPASSWORD: root\nINCORRECT PASSWORD, TRY AGAIN\nLOGIN: guest\nPASSWORD: guest\nINCORRECT PASSWORD, TRY AGAIN\nLOGIN: uucp\nPASSWORD: uucp\nWELCOME TO THE ELXSI COMPUTER AT LBL\n\nMoral: change all the default system passwords!\nCS 1550 - Operating Systems - Sherif Khattab\n\n38\n\nPassword Cracking\n\u2022 Offline cracking\n\u2022 The attacker has the password files\n\u2022 password files contains password hashes\n\n\u2022 Online cracking\n\u2022 The attacker doesn't have the password file\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n39\n\n\u2022\n\nOffline Password Cracking\nPasswords can be cracked\n\u2022\n\nHackers can get a copy of the password file\n\n\u2022\n\nRun through dictionary words and names\n\u2022\n\nHash each name\n\n\u2022\n\nLook for a match in the file\n\n\u2022\n\nHashes can be pre-computed offline!\n\n\u2022\n\nSolution: use \"salt\"\n\u2022\n\nRandom characters added to the password before hashing\n\n\u2022\n\nSalt characters stored \"in the clear\"\n\n\u2022\n\nIncrease the number of possible hash values for a given password\n\n\u2022\n\n\u2022\n\nActual password is \"pass\"\n\n\u2022\n\nSalt = \"aa\" => hash \"passaa\"\n\n\u2022\n\nSalt = \"bb\" => hash \"passbb\"\n\nResult: cracker has to store many more combinations\nCS 1550 - Operating Systems - Sherif Khattab\n\n40\n\nOnline Password Cracking\n\nLogin: elm\nPassword: foobar\n\nLogin: jimp\nUser not found!\n\nWelcome to Linux!\n\nLogin:\nLogin:\n\n\u2022\n\nSuccessful login lets the user in\n\n\u2022\n\nIf things don't go so well...\n\n\u2022\n\nLogin: elm\nPassword: barfle\nInvalid password!\n\n\u2022\n\nLogin rejected after name entered\n\n\u2022\n\nLogin rejected after name and incorrect password entered\n\nDon't notify the user of incorrect user name until after the\npassword is entered!\n\u2022\n\nEarly notification can make it easier to guess valid user names\nCS 1550 - Operating Systems - Sherif Khattab\n\n41\n\nCountermeasures\n\u2022 Limiting times when someone can log in\n\u2022 Automatic callback at number prespecified\n\u2022 Can be hard to use unless there's a modem involved\n\n\u2022 Limited number of login tries\n\u2022 Prevents attackers from trying lots of combinations quickly\n\n\u2022 A database of all logins\n\n\u2022 Simple login name/password as a trap\n\u2022 Security personnel notified when attacker bites\n\u2022 Variation: allow anyone to \"log in,\" but don't let intruders\ndo anything useful\nCS 1550 - Operating Systems - Sherif Khattab\n\n42\n\nSecurity flaws: TENEX OS password problem\n\u2022 Cracking passwords using side-channel attack\n\nFirst page\n(in memory)\n\nSecond page\n(not in memory)\n\nA\nA\nA\nA\nA\nA\nA\nA\n\nPage\nboundary\n\nB\nA\nA\nA\nA\nA\nA\nA\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nB\nA\nA\nA\nA\nA\nA\nA\n\n43\n\nAuthentication using a physical object\n\n\u2022\n\n\u2022\n\nMagnetic card\n\u2022\n\nStores a password encoded in the magnetic strip\n\n\u2022\n\nAllows for longer, harder to memorize passwords\n\nSmart card\n\u2022\n\nCard has secret encoded on it, but not externally readable\n\n\u2022\n\nRemote computer issues challenge to the smart card\n\n\u2022\n\nSmart card computes the response and proves it knows the secret\nCS 1550 - Operating Systems - Sherif Khattab\n\n44\n\nAuthentication using biometrics\n\u2022\n\nUse basic body properties to prove identity\n\n\u2022\n\nExamples include\n\n\u2022\n\n\u2022\n\nFingerprints\n\n\u2022\n\nVoice\n\n\u2022\n\nHand size\n\n\u2022\n\nRetina patterns\n\n\u2022\n\nIris patterns\n\n\u2022\n\nFacial features\n\nPotential problems\n\u2022\n\nDuplicating the measurement\n\n\u2022\n\nStealing it from its original owner?\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n45\n\nBypassing Passwords\n\u2022 Request \"free\" memory, disk space, tapes and just\nread what was left there (not zero-filled on dealloc)\n\u2022 Try illegal system calls - if the system gets confused\nenough, you may be in\n\u2022 Start a login and hit DEL, RUBOUT, or BREAK to\npossibly kill password checking\n\u2022 Try to do specified DO NOTs\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n46\n\nSecurity Problem 2: Viruses and Worms\n\u2022 Virus: program that embeds itself into other\n(legitimate) code to reproduce and do its job\n\u2022 Attach its code to another program\n\u2022 Additionally, may do harm\n\n\u2022 Goals of virus writer\n\u2022\n\u2022\n\u2022\n\u2022\n\nQuickly spreading virus\nDifficult to detect\nHard to get rid of\nOptional: does something malicious\n\u2022 e.g., Ransomware\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n47\n\nHow viruses work\n\u2022 Virus language\n\u2022 Assembly language: infects programs\n\u2022 \"Macro\" language: infects email and other documents\n\u2022 Runs when email reader / browser program opens message\n\u2022 Program \"runs\" virus (as message attachment) automatically\n\n\u2022 Inserted into another program\n\u2022 Use tool called a \"dropper\"\n\n\u2022 May also infect system code (boot block, etc.)\n\n\u2022 Virus dormant until program executed\n\u2022 Then infects other programs\n\u2022 Eventually executes its \"payload\"\nCS 1550 - Operating Systems - Sherif Khattab\n\n48\n\nWhere viruses live in the program\n\nVirus\nVirus\nExecutable\nprogram\nExecutable\nprogram\nStarting\naddress\n\nExecutable\nprogram\n\nExecutable\nprogram\nVirus\nVirus\n\nVirus\nHeader\n\nHeader\n\nHeader\n\nHeader\n\nUninfected\nprogram\n\nVirus at\nstart of\nprogram\n\nVirus at\nend of\nprogram\n\nVirus in\nprogram's\nfree spaces\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n49\n\nViruses infecting the operating system\n\nOperating\nsystem\n\nOperating\nsystem\n\nOperating\nsystem\n\nVirus\n\nVirus\n\nVirus\n\nSyscall traps\n\nSyscall traps\n\nSyscall traps\n\nDisk vector\n\nDisk vector\n\nDisk vector\n\nClock vector\n\nClock vector\n\nClock vector\n\nKbd vector\n\nKbd vector\n\nKbd vector\n\nVirus has captured\ninterrupt & trap vectors\n\nOS retakes\nkeyboard vector\n\nVirus notices,\nrecaptures keyboard\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n50\n\nHow do viruses spread?\n\u2022 Virus placed where likely to be copied\n\u2022 Popular download site\n\u2022 Photo site\n\n\u2022 When copied and run\n\u2022 Infects programs on hard drive, flash drive\n\u2022 May try to spread over LAN or WAN\n\n\u2022 Attach to innocent looking email\n\u2022 When it runs, use mailing list to replicate\n\u2022 May mutate slightly so recipients don't get suspicious\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n51\n\nHiding a virus in a file\n\u2022\n\nStart with an uninfected\nprogram\n\n\u2022\n\nAdd the virus to the end of the\nprogram\n\n\u2022\n\n\u2022\n\n\u2022\n\nProblem: file size changes\n\n\u2022\n\nSolution: compression\n\nVirus\nUnused\n\nCompress infected program\n\u2022\n\nDecompressor: for running\nexecutable\n\n\u2022\n\nCompressor: for compressing\nnewly infected binaries\n\n\u2022\n\nLots of free space (if needed)\n\nProblem (for virus writer): virus\neasy to recognize\n\nVirus\nExecutable\nprogram\n\nExecutable\nprogram\n\nCompressor\nDecompressor\n\nCompressed\nexecutable\nprogram\nHeader\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nHeader\n\nHeader\n\n52\n\n\u2022\n\n\u2022\n\nUsing encryption to hide a virus\nHide virus by encrypting it\n\u2022\n\nVary the key in each file\n\n\u2022\n\nVirus \"code\" varies in each\ninfected file\n\n\u2022\n\nProblem: lots of common\ncode still in the clear\n\u2022\n\nCompress / decompress\n\n\u2022\n\nEncrypt / decrypt\n\nEven better: leave only\ndecryptor and key in the\nclear\n\u2022\n\nLess constant per virus\n\n\u2022\n\nUse polymorphic code\n(more in a bit) to hide even\nthis\n\nUnused\n\nUnused\n\nVirus\n\nVirus\n\nCompressor\n\nCompressor\n\nUnused\n\nVirus\n\nDecompressor Decompressor\n\nEncryptor\n\nEncryptor\n\nCompressor\n\nKey\n\nKey\n\nDecompressor\n\nDecryptor\n\nDecryptor\n\nCompressed\nexecutable\nprogram\n\nCompressed\nexecutable\nprogram\n\nCompressed\nexecutable\nprogram\n\nHeader\n\nHeader\n\nHeader\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n53\n\nPolymorphic viruses\n\u2022\n\nAll of these code seqences do the same thing\n\n\u2022\n\nAll of them are very different in machine code\n\n\u2022\n\nUse \"snippets\" combined in random ways to hide code\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n54\n\n\u2022\n\n\u2022\n\n\u2022\n\n\u2022\n\nHow can viruses be foiled?\nIntegrity checkers\n\u2022\n\u2022\n\nVerify one-way function (hash) of program binary\nProblem: what if the virus changes that, too?\n\nBehavioral checkers\n\u2022\n\u2022\n\nPrevent certain behaviors by programs\nProblem: what about programs that can legitimately do these things?\n\nAvoid viruses by\n\u2022\n\u2022\n\u2022\n\u2022\n\nHaving a good (secure) OS\nInstalling only shrink-wrapped software (just hope that the shrink-wrapped\nsoftware isn't infected!)\nUsing antivirus software\nNot opening email attachments\n\nRecovery from virus attack\n\u2022\n\u2022\n\nHope you made a recent backup!\nRecover by halting computer, rebooting from safe disk (CD-ROM?), using\nan antivirus program\nCS 1550 - Operating Systems - Sherif Khattab\n\n55\n\nWhat if I have to run untrusted code?\n\u2022\n\nGoal: run (untrusted) code on my machine\n\n\u2022\n\nProblem: how can untrusted code be prevented from damaging\nmy resources?\n\n\u2022\n\nOne solution: sandboxing\n\n\u2022\n\n\u2022\n\n\u2022\n\nMemory divided into 1 MB sandboxes\n\n\u2022\n\nAccesses may not cross sandbox boundaries\n\n\u2022\n\nSensitive system calls not in the sandbox\n\nAnother solution: interpreted code\n\u2022\n\nRun the interpreter rather than the untrusted code\n\n\u2022\n\nInterpreter doesn't allow unsafe operations\n\nThird solution: signed code\n\u2022\n\nUse cryptographic techniques to sign code\n\n\u2022\n\nCheck to ensure that mobile code signed by reputable organization\nCS 1550 - Operating Systems - Sherif Khattab\n\n56\n\nWorms vs. viruses\n\u2022 Viruses require other programs to run\n\u2022 Worms are self-running (separate process)\n\n\u2022 The 1988 Internet Worm\n\u2022 Consisted of two programs\n\u2022 Bootstrap to upload worm\n\u2022 The worm itself\n\n\u2022 Exploited bugs in sendmail and finger\n\u2022 Worm first hid its existence\n\u2022 Next replicated itself on new machines\n\u2022 Brought the Internet (1988 version) to a screeching halt\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n57\n\nVirtualization Overview\nVirtual machine\n\nNon-virtual machine\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n58\n\nBenefits and Features\n\u2022 Host system protected from VMs, VMs protected from each\nother\n\u2022\n\nA virus less likely to spread\n\n\u2022\n\nSharing is provided though via shared file system volume, network\ncommunication\n\n\u2022 Freeze, suspend, running VM\n\u2022\n\nThen can move or copy somewhere else and resume\n\n\u2022\n\nSnapshot of a given state, able to restore back to that state\n\u2022\n\n\u2022\n\nSome VMMs allow multiple snapshots per VM\n\nClone by creating copy and running both original and copy\n\n\u2022 Great for OS research, better system development efficiency\n\u2022 Run multiple, different OSes on a single machine\n\u2022\n\nConsolidation, app dev, ...\nCS 1550 - Operating Systems - Sherif Khattab\n\n59\n\nBenefits and Features (cont.)\n\u2022 Templating - create an OS + application VM,\nprovide it to customers, use it to create multiple\ninstances of that combination\n\n\u2022 Live migration - move a running VM from one host\nto another!\n\u2022 No interruption of user access\n\n\u2022 All those features taken together -> cloud\ncomputing\n\u2022 Using APIs, programs tell cloud infrastructure (servers,\nnetworking, storage) to create new guests, VMs, virtual\ndesktops\nCS 1550 - Operating Systems - Sherif Khattab\n\n60\n\nImplementation of VMMs\n\u2022 Vary greatly, with options including:\n\u2022\n\nType 0 hypervisors - Hardware-based solutions that provide\nsupport for virtual machine creation and management via firmware\n\n\u2022\n\nType 1 hypervisors - Operating-system-like software built to\nprovide virtualization\n\u2022 Including VMware ESX, Joyent SmartOS, and Citrix XenServer\n\n\u2022\n\nType 1 hypervisors - Also includes general-purpose operating\nsystems that provide standard functions as well as VMM functions\n\u2022 Including Microsoft Windows Server with HyperV and RedHat Linux\nwith KVM\n\n\u2022\n\nType 2 hypervisors - Applications that run on standard operating\nsystems but provide VMM features to guest operating systems\n\u2022 Including VMware Workstation and Fusion, Parallels Desktop, and\nOracle VirtualBox\nCS 1550 - Operating Systems - Sherif Khattab\n\n61\n\n", "label": [[563, 573, "Concept"], [1390, 1400, "Concept"], [1403, 1413, "Concept"], [1743, 1753, "Concept"], [4186, 4196, "Concept"], [6727, 6737, "Concept"], [6750, 6760, "Concept"], [6876, 6886, "Concept"], [3197, 3210, "Concept"], [3246, 3259, "Concept"], [4063, 4076, "Concept"], [576, 597, "Concept"], [1743, 1760, "Concept"], [935, 941, "Concept"], [1761, 1767, "Concept"], [2117, 2123, "Concept"], [2213, 2219, "Concept"], [2279, 2285, "Concept"], [4119, 4125, "Concept"], [2379, 2389, "Concept"], [2800, 2810, "Concept"], [2930, 2940, "Concept"], [2968, 2978, "Concept"], [3440, 3450, "Concept"], [1093, 1096, "Concept"], [1152, 1155, "Concept"], [3367, 3370, "Concept"], [2772, 2810, "Concept"], [3743, 3760, "Concept"], [3846, 3863, "Concept"], [3376, 3387, "Concept"], [3891, 3913, "Concept"], [3914, 3937, "Concept"], [3914, 3930, "Concept"], [20782, 20798, "Concept"], [560, 562, "Concept"], [3222, 3224, "Concept"], [3390, 3392, "Concept"], [3529, 3531, "Concept"], [4210, 4212, "Concept"], [8162, 8164, "Concept"], [15373, 15375, "Concept"], [18143, 18145, "Concept"], [21082, 21084, "Concept"], [23454, 23456, "Concept"], [25483, 25485, "Concept"], [25720, 25722, "Concept"], [4574, 4598, "Concept"], [4836, 4855, "Concept"], [5033, 5059, "Concept"], [5276, 5295, "Concept"], [5826, 5840, "Concept"], [6366, 6380, "Concept"], [5847, 5859, "Concept"], [5889, 5901, "Concept"], [6387, 6399, "Concept"], [6451, 6464, "Concept"], [3816, 3824, "Concept"], [4513, 4521, "Concept"], [4555, 4563, "Concept"], [4581, 4589, "Concept"], [5102, 5110, "Concept"], [5248, 5256, "Concept"], [5472, 5480, "Concept"], [6741, 6749, "Concept"], [6865, 6873, "Concept"], [6990, 6998, "Concept"], [7151, 7159, "Concept"], [17941, 17949, "Concept"], [18121, 18129, "Concept"], [19502, 19510, "Concept"], [7039, 7054, "Concept"], [7170, 7185, "Concept"], [4971, 4980, "Concept"], [5013, 5022, "Concept"], [5040, 5049, "Concept"], [5186, 5195, "Concept"], [7079, 7088, "Concept"], [7190, 7199, "Concept"], [23153, 23162, "Concept"], [7118, 7130, "Concept"], [7204, 7216, "Concept"], [7132, 7149, "Concept"], [7529, 7543, "Concept"], [7611, 7625, "Concept"], [18380, 18394, "Concept"], [18790, 18804, "Concept"], [7954, 7971, "Concept"], [15864, 15881, "Concept"], [16220, 16237, "Concept"], [16464, 16481, "Concept"], [17091, 17108, "Concept"], [16456, 16481, "Concept"], [17084, 17108, "Concept"], [8388, 8395, "Concept"], [16763, 16770, "Concept"], [8422, 8438, "Concept"], [23184, 23200, "Concept"], [8497, 8510, "Concept"], [12502, 12523, "Concept"], [12629, 12650, "Concept"], [16707, 16711, "Concept"], [16775, 16779, "Concept"], [16919, 16923, "Concept"], [16952, 16956, "Concept"], [8512, 8517, "Concept"], [8492, 8510, "Concept"], [8928, 8940, "Concept"], [9398, 9410, "Concept"], [11733, 11745, "Concept"], [8755, 8765, "Concept"], [8865, 8875, "Concept"], [9691, 9701, "Concept"], [9770, 9780, "Concept"], [9871, 9881, "Concept"], [9911, 9921, "Concept"], [10123, 10133, "Concept"], [10237, 10247, "Concept"], [10321, 10331, "Concept"], [10350, 10360, "Concept"], [10928, 10938, "Concept"], [11649, 11659, "Concept"], [11991, 12001, "Concept"], [12884, 12894, "Concept"], [13138, 13148, "Concept"], [13191, 13201, "Concept"], [13319, 13329, "Concept"], [22173, 22183, "Concept"], [9782, 9792, "Concept"], [9798, 9808, "Concept"], [10160, 10170, "Concept"], [10252, 10262, "Concept"], [12004, 12014, "Concept"], [9615, 9624, "Concept"], [9732, 9741, "Concept"], [9748, 9757, "Concept"], [13420, 13429, "Concept"], [9539, 9549, "Concept"], [9759, 9769, "Concept"], [9860, 9881, "Concept"], [9897, 9921, "Concept"], [9926, 9953, "Concept"], [10003, 10018, "Concept"], [10345, 10369, "Concept"], [10371, 10374, "Concept"], [10640, 10643, "Concept"], [10683, 10686, "Concept"], [10688, 10696, "Concept"], [11098, 11110, "Concept"], [11722, 11745, "Concept"], [11851, 11861, "Concept"], [12712, 12722, "Concept"], [12873, 12883, "Concept"], [13003, 13013, "Concept"], [13127, 13137, "Concept"], [13180, 13190, "Concept"], [12581, 12592, "Concept"], [13101, 13112, "Concept"], [12460, 12477, "Concept"], [13382, 13399, "Concept"], [12842, 12861, "Concept"], [12863, 12866, "Concept"], [13331, 13334, "Concept"], [8003, 8021, "Concept"], [13481, 13499, "Concept"], [13773, 13787, "Concept"], [8075, 8087, "Concept"], [15017, 15032, "Concept"], [15260, 15275, "Concept"], [18190, 18209, "Concept"], [13540, 13549, "Concept"], [19838, 19848, "Concept"], [19542, 19547, "Concept"], [19710, 19715, "Concept"], [19750, 19755, "Concept"], [19919, 19924, "Concept"], [20100, 20105, "Concept"], [20260, 20265, "Concept"], [20448, 20453, "Concept"], [20454, 20459, "Concept"], [20555, 20560, "Concept"], [20561, 20566, "Concept"], [20568, 20573, "Concept"], [20626, 20631, "Concept"], [20653, 20658, "Concept"], [20678, 20683, "Concept"], [20854, 20859, "Concept"], [20861, 20866, "Concept"], [20868, 20873, "Concept"], [21037, 21042, "Concept"], [21110, 21115, "Concept"], [21221, 21226, "Concept"], [21601, 21606, "Concept"], [21665, 21670, "Concept"], [21761, 21766, "Concept"], [21946, 21951, "Concept"], [21961, 21966, "Concept"], [21986, 21991, "Concept"], [22194, 22199, "Concept"], [22205, 22210, "Concept"], [22261, 22266, "Concept"], [22479, 22484, "Concept"], [22561, 22566, "Concept"], [22568, 22573, "Concept"], [22607, 22612, "Concept"], [23247, 23252, "Concept"], [23628, 23633, "Concept"], [25103, 25108, "Concept"], [24599, 24603, "Concept"], [24654, 24658, "Concept"], [24665, 24669, "Concept"], [24720, 24724, "Concept"], [20198, 20205, "Concept"], [20354, 20361, "Concept"], [20239, 20249, "Concept"], [23564, 23582, "Concept"], [23996, 24006, "Concept"], [24163, 24179, "Concept"], [24299, 24310, "Concept"], [24590, 24603, "Concept"], [24585, 24603, "Concept"], [24900, 24914, "Concept"], [26412, 26426, "Concept"], [24924, 24939, "Concept"], [24945, 24960, "Concept"], [26286, 26301, "Concept"], [25243, 25245, "Concept"], [25408, 25410, "Concept"], [25737, 25739, "Concept"], [25857, 25859, "Concept"], [25301, 25309, "Concept"], [25825, 25839, "Concept"], [25697, 25707, "Concept"], [25412, 25417, "Concept"], [26604, 26607, "Concept"], [26782, 26785, "Concept"]]}