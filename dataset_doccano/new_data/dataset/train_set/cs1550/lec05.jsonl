{"id": 24, "segment": ["train_set", "labeled"], "course": "cs1550", "lec": "lec05", "text": "Introduction to Operating Systems\nCS/COE 1550\nSpring 2022\n\nSherif Khattab\nksm73@pitt.edu\n(Some slides are from Silberschatz, Galvin and Gagne \u00a92013)\n\nAnnouncements\n\u2022 Lectures and recitations are back in-person\n\n\u2022 Upcoming deadlines\n\u2022 Homework 2 is due next Monday at 11:59 pm\n\u2022 Lab 1 is due on 2/4 at 11:59 pm\n\u2022 Project 1 is due on 2/18 at 11:59 pm\n\u2022 Explained in this week's recitations\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n2\n\nPrevious Lecture ...\nThree-usage problems of Semaphores\n\u2022 compromising mutual exclusion\n\u2022 Solution: Mutex\n\n\u2022 deadlock\n\u2022 Solution: Not yet discussed\n\n\u2022 priority inversion\n\u2022 Solution: priority inheritance\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n3\n\nMuddiest Points (basic concepts)\n\u2022 Deadlock\n\n\u2022 mutual exclusion\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n4\n\nMuddiest Points (semaphore)\n\u2022 What the semaphore value means.\n\u2022 Can we see a process that utilizes a\nsemaphore/spinlock and trace it?\n\n\u2022 Where we move after down is called\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n5\n\nMuddiest Points (Mutex)\n\u2022 With mutex, what happens when a process tries to\nup() when it hasn't down()'d, does it skip over the\ninstruction or does it do something else?\n\u2022 how does a mutex semaphore verify that the same\nprocess that called down on it in the first place is the\none that called up on it?\n\n\u2022 Can a mutex have a negative value or is it only 0 or\n1?\n\u2022 Advantages/disadvantages of Mutex\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n6\n\nMuddiest Points (priority inheritance)\n\u2022 What is priority inheritance?\n\u2022 I'm confused on what the solution for priority\ninversion is or did we not mention it yet?\n\n\u2022 Does Priority Inheritance solve the Deadlock and\nStarvation problems along with the Priority Inversion\nproblem?\n\u2022 Why running P1 in the priority inversion question not\ndown the semaphore?\n\u2022 Does priority inversion (of semaphores) cause the\nlower process to run instead of the higher priority\nprocess indefinitely or does this resolve itself? If so\nhow?\nCS 1550 - Operating Systems - Sherif Khattab\n\n7\n\nSemaphore Usage Problem: Priority Inversion\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n8\n\nMuddiest Points (forking 1)\n\u2022 if fork creates copies of the process that called it, how\ncan you tell which copy has priority to run first?\n\u2022 child processes & where they pick up in the code\n\u2022 Not exactly sure how semaphores are inherited between\nprocesses\n\u2022 In the last example, when p1 calls fork and creates the\nchild p3, will p1's PCB be copied to p3, which means the\ncontent of p0's pcb will be in p3 too?\n\u2022 What is a PID and how is it related to the return value of\nfork()?\n\u2022 P3 is forked and created before P2 so why is it named\nP2? Is it simply renamed after P1 gets forked again?\n\u2022 Is the order of possible outcomes from a forking program\nthe permutation of any of the leaf nodes from a forking\ntree?\nCS 1550 - Operating Systems - Sherif Khattab\n\n9\n\nfork()'s of fork()'s\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n10\n\nMuddiest Points (forking 2)\n\u2022 does the fork return zero for all children?\n\u2022 Somewhat confused about what order the various forks\nwill actually form. I see why and from where they form,\nbut not how it decides which one to run\n\u2022 how are all processes a fork of another process? i know\nthe root of the tree is another process in the OS, but i\ndon't get how for example a program you create and\nexecute is a fork of something else.\n\u2022 the forking process with child processes. The\nrelationship between the number of child processes\ncreated and the number of times fork() is called by the\nparent process\n\u2022 what int fork returns for the child and parent process\n\u2022 practical uses of forking?\nCS 1550 - Operating Systems - Sherif Khattab\n\n11\n\nToday's Problem/Question\n\nHow are processes created and terminated?\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n12\n\nProcess Lifecycle (AKA Process States)\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n13\n\nProcess Creation\n\u2022 Via fork() syscall\n\n\u2022 Parent process: the process that calls fork()\n\u2022 Child process: the process that gets created\n\u2022 Memory of parent process copied to child process\n\u2022 Too much copying\n\n\u2022 Even not necessary sometimes\n\u2022 e.g., fork() followed by exec() to run a different program\n\n\u2022 Optimization trick:\n\u2022 copy-on-write\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n14\n\nfork() example\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n15\n\nProcess Termination\n\u2022 Via exit(), abort(), or kill() syscalls\n\n\u2022 The parent process may wait for termination of a\nchild process by using the wait()system call.The\ncall returns status information and the pid of the\nterminated process\npid = wait(&status);\n\u2022 When a process terminates\n\n\u2022 If no parent waiting (did not invoke wait()) process is a\nzombie\n\u2022 If parent terminated without invoking wait , process is an\norphan\n\u2022 adopted by the init process\nCS 1550 - Operating Systems - Sherif Khattab\n\n16\n\nOrphan vs. Zombie Processes\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n17\n\nBenefits of Orphan Processes\n\u2022 Allow a long-running job to continue running even\nafter session (e.g., ssh connection) ends.\n\u2022 The nohup command does that\n\n\u2022 Create daemon processes\n\u2022 Long-running background processes adopted by the init\nprocess.\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n18\n\nThread Synchronization\nSynchronization issues apply to threads as well\n\u2022 Threads can share data easily (same address space)\n\u2022 Other two issues apply to threads\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n19\n\nProcess vs. Thread\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n20\n\n", "label": [[822, 831, "Concept"], [844, 853, "Concept"], [906, 915, "Concept"], [1215, 1224, "Concept"], [1817, 1826, "Concept"], [2042, 2051, "Concept"], [509, 525, "Concept"], [738, 754, "Concept"], [538, 543, "Concept"], [1044, 1049, "Concept"], [1058, 1063, "Concept"], [1209, 1214, "Concept"], [1338, 1343, "Concept"], [1418, 1423, "Concept"], [547, 555, "Concept"], [726, 734, "Concept"], [1676, 1684, "Concept"], [589, 607, "Concept"], [1724, 1742, "Concept"], [1776, 1794, "Concept"], [1835, 1853, "Concept"], [2067, 2085, "Concept"], [620, 640, "Concept"], [1491, 1511, "Concept"], [1523, 1543, "Concept"], [1645, 1665, "Concept"], [3909, 3925, "Concept"], [4362, 4381, "Concept"], [3819, 3836, "Concept"], [3842, 3856, "Concept"], [2169, 2173, "Concept"], [2429, 2433, "Concept"], [2607, 2611, "Concept"], [2894, 2898, "Concept"], [2906, 2910, "Concept"], [3005, 3009, "Concept"], [3217, 3221, "Concept"], [3370, 3374, "Concept"], [3525, 3529, "Concept"], [3575, 3579, "Concept"], [3932, 3936, "Concept"], [3989, 3993, "Concept"], [4153, 4157, "Concept"], [4296, 4300, "Concept"], [4172, 4176, "Concept"], [4388, 4392, "Concept"], [4396, 4401, "Concept"], [4408, 4412, "Concept"], [4450, 4454, "Concept"], [4503, 4507, "Concept"], [4601, 4605, "Concept"], [4684, 4688, "Concept"], [4752, 4756, "Concept"], [4509, 4520, "Concept"], [3939, 3946, "Concept"], [3549, 3563, "Concept"], [3606, 3620, "Concept"], [3950, 3964, "Concept"], [4055, 4069, "Concept"], [4431, 4445, "Concept"], [3998, 4011, "Concept"], [4080, 4093, "Concept"], [4476, 4489, "Concept"], [4231, 4244, "Concept"], [2558, 2561, "Concept"], [4565, 4568, "Concept"], [4595, 4598, "Concept"], [4797, 4809, "Concept"], [5069, 5074, "Concept"], [5236, 5258, "Concept"], [5236, 5242, "Concept"], [5459, 5465, "Concept"], [882, 889, "Concept"], [1085, 1092, "Concept"], [1246, 1253, "Concept"], [1886, 1893, "Concept"], [1932, 1939, "Concept"], [2196, 2203, "Concept"], [3233, 3240, "Concept"], [3281, 3288, "Concept"], [3408, 3415, "Concept"], [3556, 3563, "Concept"], [3613, 3620, "Concept"], [3819, 3826, "Concept"], [3842, 3849, "Concept"], [3909, 3916, "Concept"], [3957, 3964, "Concept"], [3970, 3977, "Concept"], [4004, 4011, "Concept"], [4017, 4024, "Concept"], [4062, 4069, "Concept"], [4086, 4093, "Concept"], [4362, 4369, "Concept"], [4438, 4445, "Concept"], [4482, 4489, "Concept"], [4587, 4594, "Concept"], [4625, 4632, "Concept"], [4692, 4699, "Concept"], [4759, 4766, "Concept"], [4802, 4809, "Concept"], [5176, 5183, "Concept"], [5447, 5454, "Concept"], [5345, 5358, "Concept"]]}