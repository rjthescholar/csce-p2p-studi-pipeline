['train_set', 'labeled']|cs1567|lec09-10
-DOCSTART- -X- -X- O

Blob _ _ B-concept
Detection _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ B-concept
Detection _ _ O

Blob _ _ B-concept


 _ _ O
A _ _ O
blob _ _ B-concept
in _ _ O
computer _ _ O
vision _ _ O
is _ _ O
a _ _ O
region _ _ O
of _ _ O
image _ _ O
that _ _ O
some _ _ O
properties _ _ O
is _ _ O
constant _ _ O
or _ _ O
approximately _ _ O
constant _ _ O
Example _ _ O
of _ _ O
properties _ _ O
: _ _ O
Color _ _ O
Brightness _ _ O


 _ _ O
A _ _ O
robot _ _ O
can _ _ O
detect _ _ O
an _ _ O
object _ _ O
with _ _ O
a _ _ O
solid _ _ O
color _ _ O
by _ _ O
simply _ _ O
find _ _ O
blobs _ _ B-concept
of _ _ O
that _ _ O
color _ _ O
A _ _ O
blob _ _ B-concept
usually _ _ O
defined _ _ O
as _ _ O
a _ _ O
rectangular _ _ O
region _ _ O
with _ _ O
information _ _ O
: _ _ O
Width _ _ B-concept
and _ _ O
Height _ _ B-concept
Number _ _ O
of _ _ O
pixels _ _ O
Coordinate _ _ O
of _ _ O
the _ _ O
center _ _ O
of _ _ O
the _ _ O
region _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ B-concept
Detection _ _ O

How _ _ O
to _ _ O
Detect _ _ O
a _ _ O
Blob _ _ B-concept
? _ _ O
Consider _ _ O
the _ _ O
following _ _ O
image _ _ O
: _ _ O


 _ _ O
How _ _ O
to _ _ O
detect _ _ O
a _ _ O
red _ _ O
ball _ _ O
in _ _ O
the _ _ O
above _ _ O
image _ _ O
? _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ B-concept
Detection _ _ O

Filter _ _ B-concept
Selected _ _ O
Color _ _ O


 _ _ O
Image _ _ O
generally _ _ O
comes _ _ O
in _ _ O
RGB _ _ O
format _ _ O
Each _ _ O
pixel _ _ O
is _ _ O
represented _ _ O
by _ _ O
three _ _ O
values _ _ O
, _ _ O
red _ _ O
, _ _ O
green _ _ O
, _ _ O
and _ _ O
blue _ _ O
To _ _ O
filter _ _ B-concept
out _ _ O
a _ _ O
specific _ _ O
color _ _ O
, _ _ O
we _ _ O
simply _ _ O
define _ _ O
ranges _ _ O
for _ _ O
each _ _ O
value _ _ O
Red _ _ O
between _ _ O
120 _ _ O
to _ _ O
130 _ _ O
, _ _ O
Green _ _ O
between _ _ O
78 _ _ O
to _ _ O
90 _ _ O
, _ _ O
and _ _ O
Blue _ _ O
between _ _ O
100 _ _ O
to _ _ O
110 _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ B-concept
Detection _ _ O

How _ _ O
to _ _ O
Detect _ _ O
a _ _ O
Blob _ _ B-concept
Filter _ _ B-concept
out _ _ O
every _ _ O
color _ _ O
but _ _ O
red _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ B-concept
Detection _ _ O

How _ _ O
to _ _ O
Detect _ _ O
a _ _ O
Blob _ _ B-concept
Detect _ _ O
connected _ _ O
regions _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ B-concept
Detection _ _ O

Filter _ _ B-concept
Selected _ _ O
Color _ _ O


 _ _ O
Note _ _ O
that _ _ O
an _ _ O
object _ _ O
generally _ _ O
stays _ _ O
in _ _ O
a _ _ O
foreground _ _ O
where _ _ O
environment _ _ O
is _ _ O
in _ _ O
the _ _ O
background _ _ O
Foreground _ _ O
objects _ _ O
generally _ _ O
have _ _ O
more _ _ O
brightness _ _ O
In _ _ O
computer _ _ O
vision _ _ O
, _ _ O
we _ _ O
prefer _ _ O
YUV _ _ O
format _ _ O
: _ _ O
Y _ _ O
stands _ _ O
for _ _ O
the _ _ O
luminance _ _ O
component _ _ O
( _ _ O
the _ _ O
brightness _ _ O
) _ _ O
U _ _ O
and _ _ O
V _ _ O
are _ _ O
the _ _ O
chrominance _ _ O
( _ _ O
color _ _ O
) _ _ O
components _ _ O


 _ _ O
Conversion _ _ O
between _ _ O
RGB _ _ O
and _ _ O
YUV _ _ O
is _ _ O
straightforward _ _ O
: _ _ O
ùëå _ _ O
= _ _ O
( _ _ O
0.299 _ _ O
√ó _ _ O
ùëÖ _ _ O
) _ _ O
+ _ _ O
( _ _ O
0.587 _ _ O
√ó _ _ O
ùê∫ _ _ O
) _ _ O
+ _ _ O
( _ _ O
0.114 _ _ O
√ó _ _ O
ùêµ _ _ O
) _ _ O
ùëà _ _ O
= _ _ O
( _ _ O
‚àí0.168736 _ _ O
√ó _ _ O
ùëÖ _ _ O
) _ _ O
+ _ _ O
( _ _ O
‚àí0.331264 _ _ O
√ó _ _ O
ùê∫ _ _ O
) _ _ O
+ _ _ O
( _ _ O
0.5 _ _ O
√ó _ _ O
ùêµ _ _ O
) _ _ O
ùëâ _ _ O
= _ _ O
( _ _ O
0.5 _ _ O
√ó _ _ O
ùëÖ _ _ O
) _ _ O
+ _ _ O
( _ _ O
‚àí0.418688 _ _ O
√ó _ _ O
ùê∫ _ _ O
) _ _ O
+ _ _ O
( _ _ O
‚àí0.081312 _ _ O
√ó _ _ O
ùêµ _ _ O
) _ _ O


 _ _ O
where _ _ O
ùëÖ _ _ O
, _ _ O
ùê∫ _ _ O
, _ _ O
and _ _ O
ùêµ _ _ O
have _ _ O
values _ _ O
between _ _ O
0.0 _ _ O
and _ _ O
1.0 _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Problems _ _ O
with _ _ O
Blob _ _ O
Detection _ _ O
If _ _ B-concept
we _ _ I-concept
have _ _ O
two _ _ O
objects _ _ O
with _ _ O
the _ _ O
same _ _ O
color _ _ O
, _ _ O
at _ _ O
least _ _ O
two _ _ O
blobs _ _ O
will _ _ O
be _ _ O
detected _ _ B-concept
If _ _ O
we _ _ O
have _ _ O
only _ _ O
one _ _ O
object _ _ O
, _ _ O
more _ _ O
than _ _ O
one _ _ O
blobs _ _ O
may _ _ O
be _ _ O
detected _ _ B-concept
Lighting _ _ O
effects _ _ O
color _ _ O
Filtered _ _ O
regions _ _ B-concept
may _ _ I-concept
not _ _ I-concept
connect _ _ O
with _ _ O
each _ _ O
other _ _ O
Two _ _ O
or _ _ O
more _ _ O
blobs _ _ O
but _ _ O
on _ _ O
the _ _ B-concept
same _ _ I-concept
object _ _ O
If _ _ O
all _ _ O
blobs _ _ O
come _ _ O
from _ _ O
the _ _ B-concept
same _ _ I-concept
object _ _ O
, _ _ O
they _ _ O
will _ _ O
be _ _ O
close _ _ O
to _ _ O
each _ _ O
other _ _ O


 _ _ O
Surrounding _ _ O
environment _ _ O
may _ _ O
have _ _ O
the _ _ O
same _ _ O
color _ _ O


 _ _ O
Same _ _ O
object _ _ O
may _ _ O
not _ _ O
be _ _ O
detected _ _ O
if _ _ O
lighting _ _ O
change _ _ O
Increase _ _ O
the _ _ O
range _ _ O
of _ _ O
color _ _ O
may _ _ O
result _ _ O
in _ _ O
detecting _ _ O
environment _ _ O
instead _ _ O
of _ _ O
desire _ _ O
object _ _ O
Only _ _ O
works _ _ O
in _ _ O
restricted _ _ O
lighting _ _ O
and _ _ O
surrounding _ _ O
environment _ _ O
has _ _ O
small _ _ O
number _ _ O
of _ _ O
colors _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Applications _ _ O


 _ _ O
Object _ _ O
Recognition _ _ O
and _ _ O
Tracking _ _ O
: _ _ O
Soccer _ _ O
: _ _ O
Ball _ _ O
and _ _ O
goal _ _ O
posts _ _ O
Navigation _ _ O
: _ _ O
Follows _ _ O
a _ _ O
line _ _ O
Object _ _ O
avoidance _ _ O


 _ _ O
Robot _ _ O
Location _ _ O
/ _ _ O
Orientation _ _ O
: _ _ O
Two _ _ O
colors _ _ O
on _ _ O
top _ _ O
of _ _ O
robot _ _ O
Signs _ _ O
( _ _ O
multi-colors _ _ O
) _ _ O
represent _ _ O
locations _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Integrated _ _ O
Web _ _ O
Camera _ _ O
To _ _ O
detect _ _ O
blobs _ _ O
, _ _ O
we _ _ O
need _ _ O
an _ _ B-concept
image _ _ I-concept
or _ _ O
a _ _ O
series _ _ O
of _ _ O
images _ _ O
We _ _ O
will _ _ O
use _ _ O
integrated _ _ O
Web _ _ O
camera _ _ O
of _ _ O
your _ _ O
given _ _ O
laptop _ _ O
To _ _ O
access _ _ O
the _ _ O
web _ _ O
cam _ _ O
, _ _ O
we _ _ O
need _ _ O
another _ _ O
node _ _ O
called _ _ O
gscam _ _ O
gscam _ _ O
node _ _ B-concept
communicate _ _ I-concept
with _ _ O
integrated _ _ O
Web _ _ O
cam _ _ O
Capture _ _ O
video _ _ O
and _ _ O
turn _ _ O
them _ _ O
into _ _ O
series _ _ O
of _ _ O
images _ _ O
Each _ _ O
image _ _ O
will _ _ O
be _ _ O
published _ _ O
on _ _ O
the _ _ O
topic _ _ O
/v4l _ _ O
/ _ _ O
camera _ _ O
/ _ _ O
image_raw _ _ O


 _ _ O
To _ _ O
start _ _ O
gscam _ _ O
node _ _ O
, _ _ O
use _ _ O
the _ _ O
following _ _ O
command _ _ O
: _ _ O
roslaunch _ _ O
gscam _ _ O
v4l.launch _ _ O


 _ _ O
A _ _ O
series _ _ O
of _ _ O
images _ _ O
can _ _ O
be _ _ O
viewed _ _ O
using _ _ O
image_view _ _ O
node _ _ O
as _ _ O
follows _ _ O
: _ _ O
rosrun _ _ O
image_view _ _ O
image_view _ _ O
image _ _ O
: _ _ O
= _ _ O
/ _ _ O
v4l _ _ O
/ _ _ O
camera _ _ O
/ _ _ O
image_raw _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Image _ _ O
Message _ _ O
Images _ _ O
published _ _ O
by _ _ O
gscam _ _ O
node _ _ O
has _ _ O
type _ _ B-concept
sensor_msg _ _ I-concept
/ _ _ O
Image.msgs _ _ O
If _ _ O
you _ _ O
want _ _ O
to _ _ O
access _ _ O
images _ _ O
, _ _ O
add _ _ O
the _ _ O
following _ _ O
: _ _ O
from _ _ O
sensor_msg.msgs _ _ O
import _ _ O
Image _ _ O


 _ _ O
The _ _ O
Image _ _ O
message _ _ O
consists _ _ O
of _ _ O
the _ _ O
following _ _ O
components _ _ O
: _ _ O
header _ _ O
: _ _ O
Information _ _ B-concept
about _ _ I-concept
message _ _ O
height _ _ O
: _ _ O
Image _ _ O
height _ _ B-concept
( _ _ I-concept
number _ _ O
of _ _ B-concept
rows _ _ I-concept
) _ _ O
width _ _ O
: _ _ O
Image _ _ O
width _ _ B-concept
( _ _ I-concept
number _ _ O
of _ _ B-concept
columns _ _ I-concept
) _ _ O
encoding _ _ O
: _ _ O
Type _ _ O
of _ _ B-concept
encoding _ _ I-concept
is_bigendian _ _ B-concept
: _ _ I-concept
Is _ _ I-concept
this _ _ B-concept
data _ _ I-concept
bigendian _ _ I-concept
step _ _ O
: _ _ O
How _ _ O
many _ _ O
bytes _ _ B-concept
in _ _ O
a _ _ O
row _ _ O
data _ _ O
: _ _ O
A _ _ O
one-dimensional _ _ B-concept
array _ _ O
of _ _ O
data _ _ O
. _ _ O
The _ _ O
number _ _ B-concept
of _ _ I-concept
elements _ _ O
is _ _ O
step _ _ O
* _ _ O
rows _ _ O
( _ _ O
[ _ _ O
B _ _ O
, _ _ B-concept
G _ _ I-concept
, _ _ I-concept
R _ _ I-concept
, _ _ O
B _ _ O
, _ _ O
G _ _ O
, _ _ O
R _ _ O
, _ _ O
... _ _ O
] _ _ O
) _ _ O


 _ _ O
Lucky _ _ O
us _ _ O
, _ _ O
we _ _ O
do _ _ O
not _ _ O
have _ _ O
to _ _ O
process _ _ O
images _ _ O
directly _ _ O
. _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

View _ _ O
Image _ _ O
from _ _ O
Camera _ _ O
using _ _ O
OpenCV _ _ O
We _ _ O
can _ _ O
create _ _ O
our _ _ O
own _ _ O
image _ _ O
viewer _ _ O
from _ _ O
camera _ _ O
using _ _ O
OpenCV _ _ O
First _ _ O
, _ _ O
we _ _ O
need _ _ O
to _ _ O
convert _ _ O
a _ _ O
color _ _ O
image _ _ O
message _ _ O
into _ _ O
OpenCV _ _ O
format _ _ O
Then _ _ O
, _ _ O
simply _ _ O
display _ _ O
the _ _ O
image _ _ O
Code _ _ O
Example _ _ O
: _ _ O
# _ _ O
! _ _ O
/usr _ _ O
/ _ _ O
bin _ _ O
/ _ _ O
env _ _ O
python _ _ O
import _ _ O
rospy _ _ O
import _ _ O
cv2 _ _ O
from _ _ O
sensor_msgs.msg _ _ O
import _ _ O
Image _ _ O
from _ _ O
cv_bridge _ _ O
import _ _ O
CvBridge _ _ O
, _ _ O
CvBridgeError _ _ O
colorImage _ _ O
= _ _ O
None _ _ O
isColorImageReady _ _ O
= _ _ O
False _ _ O
def _ _ O
updateColorImage _ _ O
( _ _ O
data _ _ O
) _ _ O
: _ _ O
global _ _ O
colorImage _ _ B-concept
, _ _ O
isColorImageReady _ _ O
colorImage _ _ O
= _ _ O
data _ _ O
isColorImageReady _ _ B-concept
= _ _ O
True _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

View _ _ O
Image _ _ O
from _ _ O
Camera _ _ O
using _ _ O
OpenCV _ _ O
Code _ _ O
Example _ _ O
( _ _ O
continue _ _ O
) _ _ O
: _ _ O
def _ _ O
main _ _ O
( _ _ O
) _ _ O
: _ _ O
global _ _ O
colorImage _ _ O
, _ _ O
isColorImageReady _ _ O
rospy.init_node _ _ O
( _ _ O
' _ _ O
myimageview _ _ O
' _ _ O
, _ _ O
anonymous=True _ _ O
) _ _ O
rospy.Subscriber _ _ O
( _ _ O
' _ _ O
/ _ _ O
v4l _ _ O
/ _ _ O
camera _ _ O
/ _ _ O
image_raw _ _ O
' _ _ O
, _ _ O
Image _ _ O
, _ _ O
updateColorImage _ _ O
) _ _ O
bridge _ _ O
= _ _ O
CvBridge _ _ O
( _ _ O
) _ _ O
cv2.namedWindow _ _ O
( _ _ O
' _ _ O
Image _ _ O
from _ _ O
Camera _ _ O
' _ _ O
) _ _ O
while _ _ O
not _ _ O
rospy.is_shutdown _ _ O
( _ _ O
) _ _ O
and _ _ O
not _ _ O
isColorImageReady _ _ O
: _ _ O
pass _ _ O
while _ _ O
not _ _ O
rospy.is_shutdown _ _ O
( _ _ O
) _ _ O
: _ _ O
try _ _ O
: _ _ O
color_image _ _ O
= _ _ O
bridge.imgmsg_to_cv2 _ _ O
( _ _ O
colorImage _ _ O
, _ _ O
" _ _ O
bgr8 _ _ O
" _ _ O
) _ _ O
except _ _ O
CvBridgeError _ _ O
, _ _ O
e _ _ O
: _ _ O
print _ _ O
e _ _ O
cv2.imshow _ _ O
( _ _ O
' _ _ O
Image _ _ O
from _ _ O
Camera _ _ O
' _ _ O
, _ _ O
color_image _ _ O
) _ _ O
key _ _ O
= _ _ O
cv2.waitKey _ _ O
( _ _ O
1 _ _ O
) _ _ O
if _ _ O
key _ _ O
= _ _ O
= _ _ O
ord _ _ O
( _ _ O
' _ _ O
q _ _ O
' _ _ O
) _ _ O
: _ _ O
break _ _ O
cv2.destroyAllWindows _ _ O
( _ _ O
) _ _ O
if _ _ O
_ _ _ O
_ _ _ O
name _ _ O
_ _ _ O
_ _ _ O
= _ _ O
= _ _ O
' _ _ O
_ _ _ O
_ _ _ O
main _ _ O
_ _ _ O
_ _ _ O
' _ _ O
: _ _ O
main _ _ O
( _ _ O
) _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

cmvision _ _ O
Node _ _ O


 _ _ O
cmvision _ _ B-concept
node _ _ O
detects _ _ B-concept
blobs _ _ I-concept
of _ _ O
colors _ _ O
from _ _ B-concept
Image _ _ O
message _ _ O
Subscribes _ _ O
to _ _ O
a _ _ O
topic _ _ O
( _ _ O
of _ _ O
type _ _ O
Image _ _ O
) _ _ O
of _ _ O
your _ _ O
choice _ _ O
In _ _ O
our _ _ O
case _ _ O
, _ _ O
the _ _ O
topic _ _ O
will _ _ O
be _ _ O
: _ _ O
/v4l _ _ O
/ _ _ O
camera _ _ O
/ _ _ O
image_raw _ _ O


 _ _ O
Obtains _ _ O
user _ _ O
defined _ _ O
color _ _ O
information _ _ O
about _ _ O
blobs _ _ O
to _ _ O
be _ _ O
detected _ _ B-concept
Publishes _ _ O
information _ _ O
about _ _ O
detect _ _ O
blobs _ _ O
on _ _ O
the _ _ O
topic _ _ B-concept
/blobs _ _ I-concept


 _ _ O
cmvision _ _ O
package _ _ B-concept
also _ _ I-concept
supplies _ _ I-concept
a _ _ O
tool _ _ O
named _ _ O
colorgui _ _ O
Allows _ _ O
user _ _ B-concept
to _ _ I-concept
pick _ _ O
a _ _ O
range _ _ O
of _ _ O
colors _ _ O
of _ _ O
an _ _ O
object _ _ O
of _ _ O
interest _ _ O
Shows _ _ O
visual _ _ O
image _ _ O
of _ _ O
detect _ _ O
blobs _ _ O
associated _ _ B-concept
with _ _ I-concept
picked _ _ O
color _ _ O
Supplies _ _ O
color _ _ O
information _ _ O
and _ _ O
threshold _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

colorgui _ _ O


 _ _ O
Before _ _ B-concept
running _ _ I-concept
colorgui _ _ O
node _ _ O
, _ _ O
make _ _ B-concept
sure _ _ I-concept
your _ _ O
roscore _ _ O
and _ _ O
gscam _ _ O
is _ _ O
running _ _ B-concept
To _ _ I-concept
run _ _ I-concept
colorgui _ _ O
, _ _ O
use _ _ O
the _ _ B-concept
following _ _ I-concept
command _ _ O
: _ _ O
rosrun _ _ O
cmvision _ _ O
colorgui _ _ B-concept
image _ _ I-concept
: _ _ I-concept
= _ _ B-concept
/ _ _ I-concept
v4l _ _ I-concept
/ _ _ I-concept
camera _ _ I-concept
/ _ _ O
image_raw _ _ O


 _ _ O
Note _ _ O
that _ _ O
the _ _ O
data _ _ O
in _ _ O
topic _ _ O
/v4l _ _ O
/ _ _ O
camera _ _ O
/ _ _ O
image_raw _ _ O
is _ _ O
published _ _ O
by _ _ O
gscam _ _ O
node _ _ O
A _ _ O
windows _ _ B-concept
will _ _ O
pop-up _ _ O
and _ _ O
shows _ _ O
the _ _ O
image _ _ O
from _ _ O
your _ _ O
camera _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

colorgui _ _ O


 _ _ O
After _ _ O
clicking _ _ B-concept
on _ _ O
the _ _ O
object _ _ O
in _ _ O
the _ _ O
image _ _ O
couple _ _ O
times _ _ O
, _ _ O
you _ _ O
may _ _ O
see _ _ O
a _ _ O
set _ _ O
of _ _ O
rectangles _ _ O
Each _ _ O
rectangle _ _ O
represents _ _ O
a _ _ O
detected _ _ O
blob _ _ O
Move _ _ O
object _ _ B-concept
around _ _ I-concept
to _ _ O
see _ _ O
whether _ _ O
it _ _ O
can _ _ O
detect _ _ O
the _ _ O
object _ _ O
If _ _ O
it _ _ O
can _ _ O
not _ _ O
detect _ _ O
, _ _ O
click _ _ O
on _ _ O
the _ _ O
object _ _ O
couple _ _ O
more _ _ O
times _ _ O
to _ _ O
increase _ _ O
the _ _ O
range _ _ O
of _ _ O
detecting _ _ O
color _ _ O
Information _ _ O
at _ _ O
the _ _ O
bottom _ _ O
( _ _ O
YUV _ _ O
) _ _ O
will _ _ O
be _ _ O
use _ _ O
to _ _ O
set _ _ O
the _ _ O
color _ _ O
to _ _ O
be _ _ O
detected _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

colorgui _ _ O
Example _ _ B-concept
First _ _ I-concept
couple _ _ I-concept
clicks _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

colorgui _ _ O
Example _ _ B-concept
Couple _ _ I-concept
more _ _ O
clicks _ _ O
around _ _ O
the _ _ O
desired _ _ O
object _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

colorgui _ _ O
Example _ _ B-concept
Couple _ _ I-concept
more _ _ O
and _ _ O
take _ _ O
note _ _ O
about _ _ O
RGB _ _ O
and _ _ O
YUV _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

colors.txt _ _ O
For _ _ O
cmvision _ _ O
node _ _ O
, _ _ O
color _ _ B-concept
information _ _ I-concept
should _ _ O
be _ _ O
stored _ _ O
in _ _ O
a _ _ O
text _ _ O
file _ _ O
By _ _ O
default _ _ O
, _ _ O
the _ _ O
name _ _ O
of _ _ O
the _ _ O
text _ _ O
file _ _ O
is _ _ O
colors.txt _ _ O
A _ _ O
color _ _ O
file _ _ O
consists _ _ O
of _ _ O
two _ _ O
parts _ _ O
[ _ _ O
colors _ _ O
] _ _ O
and _ _ O
[ _ _ O
thresholds _ _ O
] _ _ O
as _ _ O
shown _ _ O
below _ _ O
: _ _ O
[ _ _ O
colors _ _ O
] _ _ O
( _ _ O
150 _ _ O
, _ _ O
166 _ _ O
, _ _ O
83 _ _ O
) _ _ O
0.000000 _ _ O
1 _ _ O
BrightGreen _ _ O
[ _ _ O
thresholds _ _ O
] _ _ O
( _ _ O
151 _ _ O
: _ _ O
163 _ _ O
, _ _ O
85 _ _ O
: _ _ O
91 _ _ O
, _ _ O
121 _ _ O
: _ _ O
126 _ _ O
) _ _ O


 _ _ O
cmvision _ _ O
node _ _ O
can _ _ B-concept
be _ _ I-concept
used _ _ I-concept
to _ _ O
detect _ _ O
more _ _ O
than _ _ O
one _ _ O
color _ _ O
by _ _ O
adding _ _ O
more _ _ O
lines _ _ O
for _ _ O
[ _ _ O
colors _ _ O
] _ _ O
and _ _ O
[ _ _ O
thresholds _ _ O
] _ _ O
[ _ _ O
colors _ _ O
] _ _ O
( _ _ O
150 _ _ O
, _ _ O
166 _ _ O
, _ _ O
83 _ _ O
) _ _ O
0.000000 _ _ O
1 _ _ O
BrightGreen _ _ O
( _ _ O
0 _ _ O
, _ _ O
255 _ _ O
, _ _ O
0 _ _ O
) _ _ O
0.000000 _ _ O
2 _ _ O
Green _ _ O
[ _ _ O
thresholds _ _ O
] _ _ O
( _ _ O
151 _ _ O
: _ _ O
163 _ _ O
, _ _ O
85 _ _ O
: _ _ O
91 _ _ O
, _ _ O
121 _ _ O
: _ _ O
126 _ _ O
) _ _ O
( _ _ O
47 _ _ O
: _ _ O
87 _ _ O
, _ _ O
148 _ _ O
: _ _ O
162 _ _ O
, _ _ O
93 _ _ O
: _ _ O
113 _ _ O
) _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

colors.txt _ _ O
Consider _ _ O
the _ _ O
following _ _ O
color _ _ O
file _ _ O
: _ _ O
[ _ _ O
colors _ _ O
] _ _ O
( _ _ O
150 _ _ O
, _ _ O
166 _ _ O
, _ _ O
83 _ _ O
) _ _ O
0.000000 _ _ O
1 _ _ O
BrightGreen _ _ O
( _ _ O
0 _ _ O
, _ _ O
255 _ _ O
, _ _ O
0 _ _ O
) _ _ O
0.000000 _ _ O
2 _ _ O
Green _ _ O
[ _ _ O
thresholds _ _ O
] _ _ O
( _ _ O
151 _ _ O
: _ _ O
163 _ _ O
, _ _ O
85 _ _ O
: _ _ O
91 _ _ O
, _ _ O
121 _ _ O
: _ _ O
126 _ _ O
) _ _ O
( _ _ O
47 _ _ O
: _ _ O
87 _ _ O
, _ _ O
148 _ _ O
: _ _ O
162 _ _ O
, _ _ O
93 _ _ O
: _ _ O
113 _ _ O
) _ _ O


 _ _ O
Each _ _ O
line _ _ O
under _ _ O
[ _ _ O
colors _ _ O
] _ _ O
consists _ _ O
of _ _ O
the _ _ O
following _ _ O
: _ _ O
( _ _ O
R _ _ O
, _ _ O
G _ _ O
, _ _ O
B _ _ O
) _ _ O
: _ _ O
The _ _ O
red _ _ O
, _ _ O
green _ _ O
, _ _ O
and _ _ O
blue _ _ O
values _ _ O
of _ _ O
rectangles _ _ O
that _ _ O
are _ _ O
used _ _ O
to _ _ O
blob _ _ O
region _ _ O
0.000000 _ _ B-concept
: _ _ O
Not _ _ O
being _ _ O
used _ _ O
any _ _ O
more _ _ O
( _ _ O
I _ _ O
guess _ _ O
) _ _ O
1 _ _ O
: _ _ O
Not _ _ O
being _ _ O
used _ _ O
any _ _ O
more _ _ O
( _ _ O
I _ _ O
guess _ _ O
) _ _ O
BrightGreen _ _ O
: _ _ O
The _ _ O
name _ _ O
of _ _ O
the _ _ O
blob _ _ O
which _ _ O
can _ _ O
be _ _ B-concept
used _ _ I-concept
to _ _ O
distinguish _ _ O
among _ _ O
multiple _ _ O
detected _ _ O
blobs _ _ O


 _ _ O
Thumrongsak _ _ B-concept
Kosiyatrakul _ _ I-concept


 _ _ O
Blob _ _ O
Detection _ _ O

colors.txt _ _ O


 _ _ O
Consider _ _ O
the _ _ O
following _ _ O
color _ _ O
file _ _ O
: _ _ O
[ _ _ O
colors _ _ O
] _ _ O
( _ _ O
150 _ _ O
, _ _ O
166 _ _ O
, _ _ O
83 _ _ O
) _ _ O
0.000000 _ _ O
1 _ _ O
BrightGreen _ _ O
( _ _ O
0 _ _ O
, _ _ O
255 _ _ O
, _ _ O
0 _ _ O
) _ _ O
0.000000 _ _ O
2 _ _ O
Green _ _ O
[ _ _ O
thresholds _ _ O
] _ _ O
( _ _ O
151 _ _ O
: _ _ O
163 _ _ O
, _ _ O
85 _ _ O
: _ _ O
91 _ _ O
, _ _ O
121 _ _ O
: _ _ O
126 _ _ O
) _ _ O
( _ _ O
47 _ _ O
: _ _ O
87 _ _ O
, _ _ O
148 _ _ O
: _ _ O
162 _ _ O
, _ _ O
93 _ _ O
: _ _ O
113 _ _ O
) _ _ O


 _ _ O
Each _ _ O
line _ _ O
under _ _ O
[ _ _ O
thresholds _ _ O
] _ _ O
consists _ _ O
of _ _ O
the _ _ O
following _ _ O
: _ _ O
( _ _ O
minY _ _ O
: _ _ O
maxY _ _ O
, _ _ O
minU _ _ O
: _ _ O
maxU _ _ O
, _ _ O
minV _ _ O
: _ _ O
maxV _ _ O
) _ _ O
: _ _ O
The _ _ O
YUV _ _ O
threshold _ _ O
from _ _ O
colorgui _ _ O


 _ _ O
Note _ _ O
that _ _ B-concept
the _ _ I-concept
first _ _ O
line _ _ O
of _ _ O
colors _ _ O
is _ _ O
associated _ _ O
with _ _ O
the _ _ O
first _ _ O
line _ _ O
of _ _ O
thresholds _ _ O
, _ _ O
and _ _ O
so _ _ O
on _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

cmvision.launch _ _ O
Parameters _ _ B-concept
of _ _ O
cmvision _ _ O
are _ _ O
needed _ _ B-concept
to _ _ I-concept
be _ _ I-concept
set _ _ O
First _ _ O
, _ _ O
copy _ _ O
the _ _ O
default _ _ O
launch _ _ O
file _ _ O
: _ _ O
/home _ _ O
/ _ _ O
student _ _ O
/ _ _ O
cs1567 _ _ O
/ _ _ O
src _ _ O
/ _ _ O
cmvision _ _ O
/ _ _ O
cmvision.launch _ _ B-concept


 _ _ B-concept
to _ _ I-concept
your _ _ I-concept
.. _ _ O
/mypackage _ _ O
directory _ _ O
In _ _ O
the _ _ O
copied _ _ O
file _ _ O
, _ _ O
change _ _ O
the _ _ O
followings _ _ O
: _ _ O
Under _ _ O
param _ _ O
name="cmvision _ _ O
/ _ _ O
color_file _ _ B-concept
" _ _ I-concept
, _ _ I-concept
change _ _ I-concept
its _ _ O
value _ _ O
to _ _ O
value=" _ _ O
/ _ _ O
home _ _ O
/ _ _ O
student _ _ O
/ _ _ O
cs1567 _ _ O
/ _ _ O
src _ _ O
/ _ _ O
mypackage _ _ O
/ _ _ O
colors.txt _ _ O
" _ _ O


 _ _ O
If _ _ O
you _ _ O
put _ _ O
colors.txt _ _ O
in _ _ O
different _ _ O
directory _ _ O
, _ _ O
adjust _ _ O
it _ _ O
accordingly _ _ O
Under _ _ O
param _ _ O
name="cmvision _ _ O
/ _ _ O
debug_on _ _ B-concept
" _ _ I-concept
, _ _ I-concept
change _ _ I-concept
the _ _ O
value _ _ O
to _ _ O
value="true _ _ O
" _ _ O
if _ _ O
you _ _ O
want _ _ O
to _ _ O
see _ _ O
image _ _ O
and _ _ O
detect _ _ O
blobs _ _ O
while _ _ O
cmvision _ _ O
is _ _ O
running _ _ B-concept
value="false _ _ I-concept
" _ _ O
otherwise _ _ O


 _ _ O
Under _ _ O
node _ _ O
name="cmvision _ _ O
" _ _ O
change _ _ B-concept
the _ _ I-concept
args _ _ I-concept
to _ _ O
args="image _ _ O
: _ _ O
= _ _ O
/ _ _ O
v4l _ _ O
/ _ _ O
camera _ _ O
/ _ _ O
image_raw _ _ O
" _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

cmvision.launch _ _ O
Your _ _ B-concept
cmvision.launch _ _ I-concept
should _ _ B-concept
look _ _ I-concept
like _ _ O
the _ _ O
following _ _ O
: _ _ O
< _ _ O
launch _ _ O
> _ _ O
< _ _ O
! _ _ O
-- _ _ O
Location _ _ O
of _ _ O
the _ _ O
cmvision _ _ O
color _ _ O
file _ _ O
-- _ _ O
> _ _ O
< _ _ O
param _ _ O
name="cmvision _ _ O
/ _ _ O
color_file _ _ B-concept
" _ _ I-concept
type="string _ _ I-concept
" _ _ O
value=" _ _ O
/ _ _ O
home _ _ O
/ _ _ O
student _ _ O
/ _ _ O
cs1567 _ _ O
/ _ _ O
src _ _ O
/ _ _ O
mypackage _ _ O
/ _ _ O
colors.txt _ _ O
" _ _ O
/ _ _ O
> _ _ O
< _ _ O
! _ _ O
-- _ _ O
Turn _ _ O
debug _ _ O
output _ _ O
on _ _ O
or _ _ O
off _ _ O
-- _ _ O
> _ _ O
< _ _ O
param _ _ O
name="cmvision _ _ O
/ _ _ O
debug_on _ _ B-concept
" _ _ I-concept
type="bool _ _ I-concept
" _ _ O
value="true" _ _ O
/ _ _ O
> _ _ O
< _ _ O
! _ _ O
-- _ _ O
Turn _ _ O
color _ _ O
calibration _ _ O
on _ _ O
or _ _ O
off _ _ O
-- _ _ O
> _ _ O
< _ _ O
param _ _ O
name="cmvision _ _ O
/ _ _ O
color_cal_on _ _ B-concept
" _ _ I-concept
type="bool _ _ I-concept
" _ _ O
value="false" _ _ O
/ _ _ O
> _ _ O
< _ _ O
! _ _ O
-- _ _ O
Enable _ _ O
Mean _ _ O
shift _ _ O
filtering _ _ O
-- _ _ O
> _ _ O
< _ _ O
param _ _ O
name="cmvision _ _ O
/ _ _ O
mean_shift_on _ _ B-concept
" _ _ I-concept
type="bool _ _ O
" _ _ O
value="false" _ _ O
/ _ _ O
> _ _ O
< _ _ O
! _ _ O
-- _ _ O
Spatial _ _ O
bandwidth _ _ O
: _ _ O
Bigger _ _ O
= _ _ O
smoother _ _ O
image _ _ O
-- _ _ O
> _ _ O
< _ _ O
param _ _ O
name="cmvision _ _ O
/ _ _ O
spatial_radius_pix _ _ B-concept
" _ _ O
type="double _ _ O
" _ _ O
value="2.0" _ _ O
/ _ _ O
> _ _ O
< _ _ O
! _ _ O
-- _ _ O
Color _ _ O
bandwidth _ _ O
: _ _ O
Bigger _ _ O
= _ _ O
smoother _ _ O
image-- _ _ O
> _ _ O
< _ _ O
param _ _ O
name="cmvision _ _ O
/ _ _ O
color_radius_pix _ _ B-concept
" _ _ O
type="double _ _ O
" _ _ O
value="40.0" _ _ O
/ _ _ O
> _ _ O
< _ _ O
node _ _ O
name="cmvision _ _ O
" _ _ O
pkg="cmvision _ _ B-concept
" _ _ O
type="cmvision _ _ O
" _ _ O
args="image _ _ O
: _ _ O
= _ _ O
/ _ _ O
v4l _ _ O
/ _ _ O
camera _ _ O
/ _ _ O
image_raw _ _ O
" _ _ O
output="screen _ _ O
" _ _ O
/ _ _ O
> _ _ O
< _ _ O
/launch _ _ O
> _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Blobs.msgs _ _ O


 _ _ O
cmvision _ _ B-concept
node _ _ O
publishes _ _ B-concept
a _ _ O
message _ _ O
of _ _ O
type _ _ O
Blobs _ _ O
Again _ _ O
, _ _ O
import _ _ B-concept
it _ _ I-concept
first _ _ O
: _ _ O
from _ _ O
cmvision.msg _ _ O
import _ _ B-concept
Blobs _ _ I-concept


 _ _ O
A _ _ O
message _ _ B-concept
of _ _ I-concept
type _ _ I-concept
Blobs _ _ O
consists _ _ O
of _ _ B-concept
various _ _ I-concept
components _ _ O
: _ _ O
header _ _ O
: _ _ O
Message _ _ O
header _ _ B-concept
image_width _ _ O
: _ _ O
The _ _ B-concept
width _ _ I-concept
of _ _ I-concept
the _ _ I-concept
image _ _ B-concept
in _ _ I-concept
pixels _ _ O
image_height _ _ O
: _ _ O
The _ _ B-concept
height _ _ I-concept
of _ _ I-concept
the _ _ O
image _ _ B-concept
in _ _ I-concept
pixels _ _ O
blob_count _ _ O
: _ _ O
The _ _ O
number _ _ B-concept
of _ _ O
detected _ _ O
blobs _ _ O
blobs _ _ O
: _ _ O
An _ _ O
array _ _ B-concept
of _ _ B-concept
data _ _ I-concept
of _ _ O
type _ _ O
Blob _ _ B-concept


 _ _ I-concept
Note _ _ O
: _ _ O
Blob _ _ B-concept
( _ _ I-concept
with _ _ I-concept
out _ _ O
s _ _ B-concept
) _ _ I-concept
is _ _ I-concept
another _ _ O
type _ _ O
of _ _ O
message _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Blob.msgs _ _ O
Blob.msgs _ _ B-concept
stores _ _ O
information _ _ B-concept
about _ _ O
each _ _ O
blob _ _ O
detected _ _ O
by _ _ B-concept
cmvision _ _ I-concept
node _ _ O
Must _ _ B-concept
be _ _ I-concept
explicitly _ _ I-concept
imported _ _ O
: _ _ O
from _ _ O
cmvision.msg _ _ O
import _ _ B-concept
Blobs _ _ I-concept
, _ _ O
Blob _ _ O


 _ _ O
A _ _ O
message _ _ B-concept
of _ _ B-concept
type _ _ I-concept
Blob _ _ O
consists _ _ O
of _ _ B-concept
various _ _ I-concept
components _ _ O
: _ _ O
name _ _ O
: _ _ O
The _ _ O
name _ _ O
of _ _ O
color _ _ O
/ _ _ O
object _ _ O
specified _ _ O
in _ _ O
colors.txt _ _ O
( _ _ O
String _ _ O
) _ _ O
red _ _ O
: _ _ O
The _ _ O
value _ _ O
of _ _ O
red _ _ O
green _ _ O
: _ _ O
The _ _ O
value _ _ O
of _ _ O
green _ _ O
blue _ _ O
: _ _ O
The _ _ O
value _ _ O
of _ _ O
blue _ _ O
area _ _ O
: _ _ O
The _ _ O
area _ _ O
of _ _ O
the _ _ O
blob _ _ O
( _ _ O
number _ _ O
of _ _ O
pixels _ _ B-concept
) _ _ O
x _ _ O
: _ _ O
The _ _ O
x _ _ O
coordinate _ _ O
of _ _ O
the _ _ O
center _ _ O
of _ _ O
the _ _ O
blob _ _ O
y _ _ O
: _ _ O
The _ _ O
y _ _ O
coordinate _ _ B-concept
of _ _ O
the _ _ O
center _ _ O
of _ _ O
the _ _ O
blob _ _ O
left _ _ O
: _ _ O
The _ _ O
x _ _ B-concept
coordinate _ _ I-concept
of _ _ O
the _ _ O
left _ _ O
side _ _ O
of _ _ O
the _ _ O
region _ _ O
right _ _ O
: _ _ O
The _ _ O
x _ _ O
coordinate _ _ O
of _ _ O
the _ _ O
right _ _ O
side _ _ O
of _ _ O
the _ _ O
region _ _ O
top _ _ O
: _ _ O
The _ _ O
y _ _ O
coordinate _ _ O
of _ _ O
the _ _ O
top _ _ O
side _ _ O
of _ _ O
the _ _ O
region _ _ O
bottom _ _ O
: _ _ O
The _ _ O
y _ _ O
coordinate _ _ O
of _ _ O
the _ _ O
bottom _ _ O
side _ _ O
of _ _ O
the _ _ O
region _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Blob.msgs _ _ O
( _ _ O
0 _ _ O
, _ _ O
0 _ _ O
) _ _ O


 _ _ B-concept
left _ _ I-concept


 _ _ O
right _ _ O


 _ _ O
top _ _ O


 _ _ O
( _ _ O
x _ _ O
, _ _ O
y _ _ O
) _ _ O


 _ _ O
bottom _ _ O


 _ _ O
blob _ _ O


 _ _ O
image _ _ O


 _ _ O
Thumrongsak _ _ B-concept
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Problem _ _ O
Solving _ _ O
Ideas _ _ O


 _ _ O
How _ _ O
to _ _ O
filter _ _ O
out _ _ O
environment _ _ B-concept
? _ _ O
How _ _ O
do _ _ O
we _ _ O
know _ _ O
that _ _ O
two _ _ O
or _ _ O
more _ _ O
blobs _ _ O
are _ _ O
on _ _ O
the _ _ B-concept
same _ _ I-concept
object _ _ O
? _ _ O
Fixed _ _ O
size _ _ O
objects _ _ O
Variable _ _ O
size _ _ O
objects _ _ O


 _ _ O
If _ _ O
we _ _ O
know _ _ O
that _ _ O
these _ _ O
10 _ _ O
blobs _ _ O
are _ _ O
on _ _ O
the _ _ B-concept
same _ _ I-concept
object _ _ O
, _ _ O
how _ _ O
to _ _ O
find _ _ O
the _ _ O
center _ _ O
of _ _ O
the _ _ O
object _ _ O
? _ _ O
How _ _ O
do _ _ O
we _ _ O
know _ _ O
that _ _ O
there _ _ O
are _ _ O
two _ _ O
or _ _ O
more _ _ O
objects _ _ O
of _ _ O
the _ _ O
same _ _ O
color _ _ O
? _ _ O
How _ _ O
to _ _ O
filter _ _ O
out _ _ O
noise _ _ B-concept
from _ _ I-concept
camera _ _ O
? _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Visualize _ _ O
Blobs _ _ O
using _ _ O
OpenCV _ _ O


 _ _ O
Sometimes _ _ O
we _ _ O
need _ _ O
to _ _ O
process _ _ O
blobs _ _ O
: _ _ O
Filter _ _ O
out _ _ B-concept
blobs _ _ I-concept
that _ _ B-concept
are _ _ O
too _ _ B-concept
smalls _ _ I-concept
Filter _ _ O
out _ _ O
blobs _ _ B-concept
that _ _ I-concept
are _ _ O
outside _ _ B-concept
of _ _ O
region _ _ O
of _ _ O
interest _ _ O
Merge _ _ O
multiple _ _ O
blobs _ _ O
in _ _ O
to _ _ O
one _ _ O


 _ _ B-concept
We _ _ I-concept
may _ _ I-concept
need _ _ O
to _ _ O
see _ _ O
a _ _ O
result _ _ O
in _ _ O
an _ _ O
image _ _ O
OpenCV _ _ O
provides _ _ O
libraries _ _ O
for _ _ O
Computer _ _ O
Vision _ _ O
: _ _ O
Show _ _ O
image _ _ O
/ _ _ O
video _ _ O
on _ _ O
screen _ _ O
Mouse _ _ O
and _ _ O
keyboard _ _ O
events _ _ O
Draw _ _ O
lines _ _ O
, _ _ O
rectangles _ _ O
, _ _ O
string _ _ O
on _ _ O
image _ _ O
Foreground _ _ O
/ _ _ O
background _ _ O
filtering _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Visualize _ _ O
Blobs _ _ O
using _ _ O
OpenCV _ _ O
# _ _ O
! _ _ O
/usr _ _ O
/ _ _ O
bin _ _ O
/ _ _ O
env _ _ O
python _ _ O
import _ _ O
roslib _ _ O
import _ _ O
rospy _ _ O
import _ _ O
cv2 _ _ O
import _ _ O
copy _ _ O
from _ _ O
sensor_msgs.msg _ _ O
import _ _ O
Image _ _ O
from _ _ O
cv_bridge _ _ O
import _ _ O
CvBridge _ _ O
, _ _ O
CvBridgeError _ _ O
from _ _ O
cmvision.msg _ _ O
import _ _ B-concept
Blobs _ _ I-concept
, _ _ O
Blob _ _ O
colorImage _ _ B-concept
= _ _ B-concept
Image _ _ I-concept
( _ _ O
) _ _ O
isColorImageReady _ _ O
= _ _ O
False _ _ O
blobsInfo _ _ O
= _ _ O
Blobs _ _ B-concept
( _ _ I-concept
) _ _ I-concept
isBlobsInfoReady _ _ I-concept
= _ _ O
False _ _ O
def _ _ O
updateColorImage _ _ O
( _ _ O
data _ _ O
) _ _ O
: _ _ O
global _ _ O
colorImage _ _ O
, _ _ O
isColorImageReady _ _ O
colorImage _ _ O
= _ _ O
data _ _ O
isColorImageReady _ _ O
= _ _ O
True _ _ O
def _ _ O
updateBlobsInfo _ _ O
( _ _ O
data _ _ O
) _ _ O
: _ _ O
global _ _ O
blobsInfo _ _ O
, _ _ O
isBlobsInfoReady _ _ O
blobsInfo _ _ O
= _ _ O
data _ _ O
isBlobsInfoReady _ _ O
= _ _ O
True _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Visualize _ _ O
Blobs _ _ O
using _ _ O
OpenCV _ _ B-concept


 _ _ I-concept
def _ _ O
main _ _ O
( _ _ O
) _ _ O
: _ _ O
global _ _ O
colorImage _ _ O
, _ _ O
isColorImageReady _ _ O
, _ _ O
blobsInfo _ _ O
, _ _ O
isBlobsInfoReady _ _ B-concept
rospy.init_node _ _ B-concept
( _ _ O
' _ _ O
showBlobs _ _ O
' _ _ O
, _ _ O
anonymous=True _ _ B-concept
) _ _ O
rospy.Subscriber _ _ O
( _ _ O
" _ _ O
/ _ _ O
blobs _ _ O
" _ _ O
, _ _ O
Blobs _ _ O
, _ _ O
updateBlobsInfo _ _ B-concept
) _ _ O
rospy.Subscriber _ _ O
( _ _ O
" _ _ O
/ _ _ O
v4l _ _ O
/ _ _ O
camera _ _ O
/ _ _ O
image_raw _ _ O
" _ _ O
, _ _ O
Image _ _ O
, _ _ O
updateColorImage _ _ O
) _ _ O
bridge _ _ O
= _ _ O
CvBridge _ _ O
( _ _ O
) _ _ O
cv2.namedWindow _ _ O
( _ _ O
"Blob _ _ O
Location _ _ O
" _ _ O
) _ _ O
while _ _ O
not _ _ O
rospy.is_shutdown _ _ O
( _ _ O
) _ _ O
and _ _ O
( _ _ O
not _ _ O
isBlobsInfoReady _ _ O
or _ _ O
not _ _ O
isColorImageReady _ _ O
) _ _ O
: _ _ O
pass _ _ O
while _ _ O
not _ _ O
rospy.is_shutdown _ _ O
( _ _ O
) _ _ O
: _ _ O
: _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Visualize _ _ O
Blobs _ _ O
using _ _ O
OpenCV _ _ O
def _ _ O
main _ _ O
( _ _ O
) _ _ O
: _ _ O
: _ _ O
while _ _ O
not _ _ O
rospy.is_shutdown _ _ O
( _ _ O
) _ _ O
: _ _ O
try _ _ O
: _ _ O
color_image _ _ O
= _ _ O
bridge.imgmsg_to_cv2 _ _ O
( _ _ O
colorImage _ _ O
, _ _ O
" _ _ O
bgr8 _ _ O
" _ _ O
) _ _ O
except _ _ O
CvBridgeError _ _ O
, _ _ O
e _ _ O
: _ _ O
print _ _ O
e _ _ O
print _ _ O
" _ _ O
colorImage _ _ O
" _ _ O
blobsCopy _ _ O
= _ _ O
copy.deepcopy _ _ B-concept
( _ _ O
blobsInfo _ _ O
) _ _ O
for _ _ O
b _ _ B-concept
in _ _ I-concept
blobsCopy.blobs _ _ I-concept
: _ _ B-concept
cv2.rectangle _ _ I-concept
( _ _ B-concept
color_image _ _ O
, _ _ O
( _ _ O
b.left _ _ O
, _ _ O
b.top _ _ O
) _ _ O
, _ _ O
( _ _ O
b.right _ _ O
, _ _ O
b.bottom _ _ O
) _ _ O
, _ _ O
( _ _ O
0 _ _ O
, _ _ O
255 _ _ O
, _ _ O
0 _ _ O
) _ _ O
, _ _ O
2 _ _ O
) _ _ O
cv2.imshow _ _ O
( _ _ O
"Color _ _ O
Image _ _ O
" _ _ O
, _ _ O
color_image _ _ O
) _ _ O
key _ _ O
= _ _ O
cv2.waitKey _ _ O
( _ _ O
1 _ _ O
) _ _ O
if _ _ O
key _ _ O
= _ _ O
= _ _ O
ord _ _ O
( _ _ O
' _ _ O
q _ _ O
' _ _ O
) _ _ O
: _ _ O
break _ _ O
cv2.destroyAllWindows _ _ O
( _ _ O
) _ _ O
if _ _ O
_ _ _ O
_ _ _ O
name _ _ O
_ _ _ O
_ _ _ O
= _ _ O
= _ _ O
' _ _ O
_ _ _ O
_ _ _ O
main _ _ O
_ _ _ O
_ _ _ O
' _ _ O
: _ _ O
main _ _ O
( _ _ O
) _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Blob _ _ O
Detection _ _ O
Algorithm _ _ B-concept


 _ _ O
Given _ _ O
an _ _ O
image _ _ O
, _ _ O
the _ _ O
following _ _ O
steps _ _ O
are _ _ O
generally _ _ O
used _ _ O
: _ _ O
1 _ _ O
2 _ _ O
3 _ _ O


 _ _ O
Blur _ _ O
the _ _ O
image _ _ O
to _ _ O
reduce _ _ O
noise _ _ O
Filter _ _ O
out _ _ O
all _ _ O
pixels _ _ B-concept
that _ _ O
are _ _ O
out-of-range _ _ O
Find _ _ O
groups _ _ O
of _ _ O
pixels _ _ O
that _ _ O
are _ _ O
connected _ _ O
to _ _ O
each _ _ O
other _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Gaussian _ _ O
Blur _ _ O


 _ _ O
One _ _ B-concept
of _ _ I-concept
the _ _ I-concept
most _ _ I-concept
popular _ _ O
blur _ _ O
algorithm _ _ O
is _ _ O
called _ _ O
Gaussian _ _ O
blur _ _ O


 _ _ O
3x3 _ _ B-concept
5x5 _ _ I-concept
7x7 _ _ I-concept


 _ _ I-concept
The _ _ O
new _ _ O
RGB _ _ O
values _ _ O
of _ _ O
the _ _ O
pixel _ _ O
at _ _ O
center _ _ O
is _ _ O
an _ _ O
weight _ _ O
average _ _ O
of _ _ O
RGB _ _ O
of _ _ O
pixels _ _ O
around _ _ O
it _ _ O
The _ _ O
weight _ _ O
of _ _ O
each _ _ O
pixel _ _ O
is _ _ O
based _ _ O
on _ _ O
the _ _ O
Gaussian _ _ O
normal _ _ O
distribution _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Filter _ _ O
Filter _ _ O
can _ _ B-concept
be _ _ I-concept
done _ _ I-concept
based _ _ B-concept
on _ _ O
RGB _ _ O
or _ _ O
YUV _ _ O
Recall _ _ O
that _ _ O
cmvision _ _ O
uses _ _ O
YUV _ _ B-concept


 _ _ I-concept
Once _ _ I-concept
a _ _ O
filter _ _ O
is _ _ O
applied _ _ B-concept
, _ _ I-concept
we _ _ I-concept
should _ _ O
get _ _ O
a _ _ O
one _ _ O
bit _ _ O
image _ _ O
( _ _ O
black _ _ O
and _ _ O
white _ _ O
) _ _ O
We _ _ O
do _ _ O
not _ _ O
need _ _ O
information _ _ O
about _ _ O
color _ _ O
of _ _ O
each _ _ O
pixel _ _ O
anymore _ _ O
Only _ _ O
need _ _ O
to _ _ O
know _ _ O
which _ _ O
pixels _ _ O
are _ _ O
in _ _ O
a _ _ O
given _ _ O
range _ _ O


 _ _ O
Example _ _ O
: _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
For _ _ O
simplicity _ _ O
, _ _ O
assume _ _ O
that _ _ O
a _ _ O
blob _ _ O
is _ _ O
a _ _ O
4-tuple _ _ B-concept
( _ _ I-concept
left _ _ O
, _ _ O
right _ _ O
, _ _ O
top _ _ O
, _ _ O
bottom _ _ O
) _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

A _ _ O
Blob _ _ O
Detection _ _ O
Algorithm _ _ B-concept
First _ _ O
, _ _ O
we _ _ O
need _ _ O
to _ _ O
search _ _ O
for _ _ O
the _ _ O
first _ _ O
pixel _ _ O
that _ _ O
are _ _ O
non-zero _ _ O
Scan _ _ O
left _ _ O
to _ _ O
right _ _ O
and _ _ O
top _ _ O
to _ _ O
bottom _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
Once _ _ O
the _ _ O
first _ _ O
pixel _ _ O
is _ _ O
found _ _ O
: _ _ O
1 _ _ O


 _ _ O
2 _ _ O
3 _ _ O
4 _ _ O
5 _ _ O


 _ _ O
Record _ _ O
this _ _ O
coordinate _ _ O
so _ _ O
that _ _ O
we _ _ O
can _ _ O
restart _ _ O
searching _ _ O
for _ _ O
the _ _ O
next _ _ O
blob _ _ O
Construct _ _ O
a _ _ B-concept
new _ _ I-concept
blob _ _ O
( _ _ O
data _ _ O
) _ _ O
Left _ _ B-concept
and _ _ I-concept
right _ _ O
are _ _ O
5 _ _ O
Top _ _ O
and _ _ O
bottom _ _ O
are _ _ O
1 _ _ O
Center _ _ O
, _ _ O
width _ _ O
, _ _ O
and _ _ O
height _ _ B-concept
of _ _ I-concept
the _ _ O
blob _ _ B-concept
will _ _ I-concept
be _ _ O
calculated _ _ B-concept
later _ _ O


 _ _ O
Now _ _ O
, _ _ O
our _ _ O
first _ _ O
blob _ _ O
is _ _ O
( _ _ O
5 _ _ O
, _ _ O
5 _ _ O
, _ _ O
1 _ _ B-concept
, _ _ I-concept
1 _ _ I-concept
) _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

A _ _ O
Blob _ _ O
Detection _ _ O
Algorithm _ _ B-concept
Next _ _ O
, _ _ O
set _ _ O
the _ _ O
pixel _ _ O
to _ _ O
zero _ _ O
and _ _ O
scanning _ _ O
for _ _ O
non-zero _ _ O
neighbor _ _ O
If _ _ O
a _ _ O
non-zero _ _ O
neighbor _ _ O
is _ _ O
found _ _ O
: _ _ O
Adjust _ _ O
the _ _ O
blob _ _ O
accordingly _ _ B-concept
Add _ _ I-concept
coordinate _ _ O
( _ _ O
x _ _ O
, _ _ O
y _ _ O
) _ _ O
of _ _ O
the _ _ O
non-zero _ _ O
neighbor _ _ O
into _ _ O
a _ _ O
queue _ _ O
Change _ _ O
non-zero _ _ O
neighbors _ _ O
to _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
Currently _ _ O
Blob _ _ O
is _ _ O
( _ _ O
5 _ _ O
, _ _ O
6 _ _ O
, _ _ O
1 _ _ B-concept
, _ _ I-concept
2 _ _ I-concept
) _ _ O
Queue _ _ O
is _ _ O
[ _ _ O
( _ _ O
6 _ _ O
, _ _ O
1 _ _ O
) _ _ O
, _ _ O
( _ _ O
5 _ _ O
, _ _ O
2 _ _ O
) _ _ O
, _ _ O
( _ _ O
6 _ _ O
, _ _ O
2 _ _ O
) _ _ O
] _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O


 _ _ B-concept
0 _ _ I-concept
0 _ _ I-concept
0 _ _ I-concept
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O

A _ _ O
Blob _ _ O
Detection _ _ O
Algorithm _ _ B-concept
Repeat _ _ O
until _ _ O
the _ _ O
queue _ _ O
is _ _ O
empty _ _ O
: _ _ O
1 _ _ O
2 _ _ O
3 _ _ O
4 _ _ O
5 _ _ O


 _ _ O
Dequeue _ _ O
the _ _ O
first _ _ O
coordinate _ _ O
Scan _ _ O
for _ _ O
its _ _ O
non-zero _ _ O
neighbor _ _ O
Add _ _ O
all _ _ O
coordinates _ _ O
( _ _ O
x _ _ O
, _ _ O
y _ _ O
) _ _ O
of _ _ O
the _ _ O
non-zero _ _ O
neighbor _ _ O
into _ _ O
a _ _ O
queue _ _ O
Change _ _ O
all _ _ O
non-zero _ _ O
neighbor _ _ O
to _ _ O
0 _ _ O
Go _ _ O
back _ _ O
to _ _ O
step _ _ O
1 _ _ O


 _ _ O
Once _ _ O
the _ _ O
queue _ _ O
is _ _ O
empty _ _ O
, _ _ O
we _ _ O
get _ _ O
the _ _ O
first _ _ O
blob _ _ O
( _ _ O
5 _ _ O
, _ _ O
7 _ _ O
, _ _ O
1 _ _ O
, _ _ O
7 _ _ B-concept
) _ _ I-concept
0 _ _ I-concept
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O


 _ _ B-concept
0 _ _ I-concept
0 _ _ I-concept
0 _ _ I-concept
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
1 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O


 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O
0 _ _ O

Blob _ _ O
Detection _ _ O
using _ _ B-concept
OpenCV _ _ O
First _ _ O
, _ _ O
we _ _ O
need _ _ O
to _ _ O
blur _ _ O
an _ _ O
image _ _ O
using _ _ O
the _ _ O
GaussianBlur _ _ O
( _ _ O
) _ _ O
function _ _ B-concept
The _ _ I-concept
following _ _ O
code _ _ O
blurs _ _ O
an _ _ O
image _ _ O
and _ _ O
display _ _ O
: _ _ O
import _ _ O
cv2 _ _ O
def _ _ O
main _ _ O
( _ _ O
) _ _ O
: _ _ O
color_image _ _ O
= _ _ O
cv2.imread _ _ O
( _ _ O
' _ _ O
start_img.jpg _ _ O
' _ _ O
, _ _ O
cv2.IMREAD_COLOR _ _ O
) _ _ O
blur_image _ _ O
= _ _ O
cv2.GaussianBlur _ _ O
( _ _ O
color_image _ _ B-concept
, _ _ I-concept
( _ _ I-concept
5 _ _ O
, _ _ O
5 _ _ O
) _ _ O
, _ _ O
0 _ _ O
) _ _ O
cv2.imshow _ _ O
( _ _ O
' _ _ O
Image _ _ O
' _ _ O
, _ _ O
color_image _ _ O
) _ _ O
cv2.imshow _ _ O
( _ _ O
' _ _ O
Blur _ _ O
Image _ _ O
' _ _ O
, _ _ O
blur_image _ _ O
) _ _ O
while _ _ O
True _ _ O
: _ _ O
key _ _ O
= _ _ O
cv2.waitKey _ _ O
( _ _ O
0 _ _ O
) _ _ O
& _ _ O
0xFF _ _ O
if _ _ O
key _ _ O
= _ _ O
= _ _ O
ord _ _ O
( _ _ O
' _ _ O
q _ _ O
' _ _ O
) _ _ O
: _ _ O
break _ _ O
; _ _ O
cv2.destroyAllWindows _ _ O
( _ _ O
) _ _ O
if _ _ O
_ _ _ O
_ _ _ O
name _ _ O
_ _ _ O
_ _ _ O
= _ _ O
= _ _ O
' _ _ O
_ _ _ O
_ _ _ O
main _ _ O
_ _ _ O
_ _ _ O
' _ _ O
: _ _ O
main _ _ O
( _ _ O
) _ _ O


 _ _ O
The _ _ O
parameter _ _ O
( _ _ O
5 _ _ O
, _ _ O
5 _ _ O
) _ _ O
specifies _ _ O
how _ _ O
many _ _ O
pixels _ _ O
to _ _ O
be _ _ O
used _ _ O
( _ _ O
must _ _ O
be _ _ O
odd _ _ O
numbers _ _ O
) _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Convert _ _ O
RGB _ _ O
to _ _ O
YUV _ _ O
OpenCV _ _ O
supplies _ _ O
the _ _ O
cvtColor _ _ O
( _ _ O
) _ _ O
function _ _ O
to _ _ O
convert _ _ O
one _ _ O
color _ _ O
spectrum _ _ O
to _ _ O
another _ _ O
import _ _ O
cv2 _ _ O
def _ _ O
main _ _ O
( _ _ O
) _ _ O
: _ _ O
color_image _ _ O
= _ _ O
cv2.imread _ _ O
( _ _ O
' _ _ O
.. _ _ O
/ _ _ O
start_img.jpg _ _ O
' _ _ O
, _ _ O
cv2.IMREAD_COLOR _ _ O
) _ _ O
blur_image _ _ O
= _ _ O
cv2.GaussianBlur _ _ O
( _ _ O
color_image _ _ B-concept
, _ _ I-concept
( _ _ I-concept
5 _ _ O
, _ _ O
5 _ _ O
) _ _ O
, _ _ O
0 _ _ O
) _ _ O
yuv_image _ _ O
= _ _ O
cv2.cvtColor _ _ O
( _ _ O
blur_image _ _ O
, _ _ O
cv2.COLOR_BGR2YUV _ _ O
) _ _ O
y _ _ O
, _ _ O
u _ _ O
, _ _ O
v _ _ O
= _ _ O
cv2.split _ _ O
( _ _ O
yuv_image _ _ O
) _ _ O
cv2.imshow _ _ O
( _ _ O
' _ _ O
Image _ _ O
' _ _ O
, _ _ O
blur_image _ _ O
) _ _ O
cv2.imshow _ _ O
( _ _ O
' _ _ O
Y _ _ O
' _ _ O
, _ _ O
y _ _ O
) _ _ O
cv2.imshow _ _ O
( _ _ O
' _ _ O
U _ _ O
' _ _ O
, _ _ O
u _ _ O
) _ _ O
cv2.imshow _ _ O
( _ _ O
' _ _ O
V _ _ O
' _ _ O
, _ _ O
v _ _ O
) _ _ O
while _ _ O
True _ _ O
: _ _ O
key _ _ O
= _ _ O
cv2.waitKey _ _ O
( _ _ O
0 _ _ O
) _ _ O
& _ _ O
0xFF _ _ O
if _ _ O
key _ _ O
= _ _ O
= _ _ O
ord _ _ O
( _ _ O
' _ _ O
q _ _ O
' _ _ O
) _ _ O
: _ _ O
break _ _ O
; _ _ O
cv2.destroyAllWindows _ _ O
( _ _ O
) _ _ O
if _ _ O
_ _ _ O
_ _ _ O
name _ _ O
_ _ _ O
_ _ _ O
= _ _ O
= _ _ O
' _ _ O
_ _ _ O
_ _ _ O
main _ _ O
_ _ _ O
_ _ _ O
' _ _ O
: _ _ O
main _ _ O
( _ _ O
) _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Filter _ _ O
Unwanted _ _ O
Pixels _ _ B-concept


 _ _ O
Unwanted _ _ O
pixels _ _ O
can _ _ O
be _ _ O
filtered _ _ O
out _ _ O
using _ _ B-concept
the _ _ I-concept
inRange _ _ I-concept
( _ _ O
) _ _ O
function _ _ O
: _ _ O
def _ _ O
main _ _ O
( _ _ O
) _ _ O
: _ _ O
color_image _ _ O
= _ _ O
cv2.imread _ _ O
( _ _ O
' _ _ O
.. _ _ O
/ _ _ O
start_img.jpg _ _ O
' _ _ O
, _ _ O
cv2.IMREAD_COLOR _ _ O
) _ _ O
blur_image _ _ O
= _ _ O
cv2.GaussianBlur _ _ O
( _ _ O
color_image _ _ B-concept
, _ _ I-concept
( _ _ I-concept
5 _ _ O
, _ _ O
5 _ _ O
) _ _ O
, _ _ O
0 _ _ O
) _ _ O
cv2.namedWindow _ _ O
( _ _ O
' _ _ O
Mask _ _ O
' _ _ O
) _ _ O
mask_image _ _ O
= _ _ O
cv2.inRange _ _ O
( _ _ O
blur_image _ _ O
, _ _ O
lower_bound _ _ O
, _ _ O
upper_bound _ _ O
) _ _ O
; _ _ O
cv2.imshow _ _ O
( _ _ O
' _ _ O
Mask _ _ O
' _ _ O
, _ _ O
mask_image _ _ O
) _ _ O
cv2.waitkey _ _ O
( _ _ O
0 _ _ O
) _ _ O
; _ _ O
cv2.destroyAllWindows _ _ O
( _ _ O
) _ _ O
if _ _ O
_ _ _ O
_ _ _ O
name _ _ O
_ _ _ O
_ _ _ O
= _ _ O
= _ _ O
' _ _ O
_ _ _ O
_ _ _ O
main _ _ O
_ _ _ O
_ _ _ O
' _ _ O
: _ _ O
main _ _ O
( _ _ O
) _ _ O


 _ _ O
The _ _ O
lower_bound _ _ O
and _ _ O
upper_bound _ _ O
are _ _ O
( _ _ O
B _ _ O
, _ _ O
G _ _ O
, _ _ O
R _ _ O
) _ _ O
in _ _ O
this _ _ O
case _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Filter _ _ O
Unwanted _ _ O
Pixels _ _ O
Masked _ _ O
Image _ _ O
: _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

SimpleBlobDetector _ _ O
( _ _ O
) _ _ O


 _ _ B-concept
OpenCV _ _ I-concept
supplies _ _ O
the _ _ O
SimpleBlobDetector _ _ O
( _ _ O
) _ _ O
function _ _ B-concept
which _ _ O
detects _ _ O
blobs _ _ O
based _ _ O
on _ _ O
a _ _ B-concept
given _ _ I-concept
parameter _ _ O
: _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

SimpleBlobDetector _ _ O
( _ _ O
) _ _ O
Parameters _ _ B-concept
First _ _ O
we _ _ O
need _ _ O
to _ _ O
set _ _ O
the _ _ O
parameter _ _ O
: _ _ O
params _ _ O
= _ _ O
cv2.SimpleBlobDetector_Params _ _ B-concept
( _ _ O
) _ _ O
params.minThreshold _ _ O
= _ _ O
0 _ _ O
params.maxThreshold _ _ O
= _ _ O
255 _ _ O
params.filterByArea _ _ O
= _ _ O
True _ _ B-concept
params.minArea _ _ I-concept
= _ _ O
50 _ _ O
params.maxArea _ _ O
= _ _ O
256 _ _ O
* _ _ O
256 _ _ O
params.filterByCircularity _ _ B-concept
= _ _ I-concept
False _ _ O
params.minCircularity _ _ O
= _ _ O
0.1 _ _ O
params.filterByConvexity _ _ B-concept
= _ _ I-concept
False _ _ I-concept
params.minConvexity _ _ O
= _ _ O
0.9 _ _ O
params.filterByInertia _ _ O
= _ _ B-concept
False _ _ I-concept
params.minInertiaRatio _ _ O
= _ _ O
0.5 _ _ O
ver _ _ O
= _ _ O
( _ _ O
cv2.__version__ _ _ O
) _ _ O
.split _ _ O
( _ _ O
' _ _ O
. _ _ O
' _ _ O
) _ _ O
if _ _ O
int _ _ O
( _ _ O
ver _ _ O
[ _ _ O
0 _ _ O
] _ _ O
) _ _ O
< _ _ O
3 _ _ O
: _ _ O
detector _ _ O
= _ _ O
cv2.SimpleBlobDetector _ _ O
( _ _ O
params _ _ B-concept
) _ _ O
else _ _ O
: _ _ O
detector _ _ O
= _ _ O
cv2.SimpleBlobDetector_create _ _ B-concept
( _ _ O
params _ _ O
) _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

SimpleBlobDetector _ _ O
( _ _ O
) _ _ O


 _ _ B-concept
Then _ _ I-concept
we _ _ O
can _ _ O
use _ _ O
the _ _ O
detector _ _ O
object _ _ O
to _ _ O
detect _ _ O
blobs _ _ O
from _ _ O
masked _ _ O
image _ _ B-concept
keypoints _ _ B-concept
= _ _ O
detector.detect _ _ O
( _ _ O
255 _ _ O
- _ _ O
mask_image _ _ O
) _ _ O
kp_image _ _ B-concept
= _ _ O
cv2.drawKeypoints _ _ O
( _ _ O
blur_image _ _ O
, _ _ O
keypoints _ _ O
, _ _ O
np.array _ _ O
( _ _ O
[ _ _ O
] _ _ O
) _ _ O
, _ _ O
( _ _ O
0 _ _ O
, _ _ O
255 _ _ O
, _ _ O
0 _ _ O
) _ _ O
, _ _ O
cv2.DRAW_MATCHES_FLAGS_DRAW_RICH_KEYPOINTS _ _ O
) _ _ O
cv2.imshow _ _ O
( _ _ O
' _ _ O
Keypoints _ _ O
' _ _ O
, _ _ O
kp_image _ _ O
) _ _ O


 _ _ O
To _ _ O
extract _ _ O
blobs _ _ O
information _ _ B-concept
, _ _ I-concept
simply _ _ I-concept
look _ _ O
at _ _ O
the _ _ O
keypoints _ _ O
variable _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

SimpleBlobDetector _ _ O
( _ _ O
) _ _ O
Result _ _ B-concept
from _ _ O
the _ _ O
drawKeypoints _ _ O
( _ _ O
) _ _ O
function _ _ O
to _ _ O
the _ _ O
original _ _ O
image _ _ O
: _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

SimpleBlobDetector _ _ O
( _ _ O
) _ _ O


 _ _ B-concept
The _ _ I-concept
SimpleBlobDetector _ _ O
( _ _ O
) _ _ O
function _ _ B-concept
is _ _ O
good _ _ O
for _ _ O
round _ _ O
object _ _ O
It _ _ O
may _ _ O
not _ _ O
perform _ _ O
well _ _ O
for _ _ O
our _ _ O
application _ _ O
( _ _ O
high _ _ O
CPU _ _ O
utilization _ _ O
) _ _ O
With _ _ O
a _ _ O
large _ _ O
blob _ _ O
, _ _ O
it _ _ O
only _ _ O
show _ _ B-concept
a _ _ I-concept
small _ _ O
keypoint _ _ O
Parameters _ _ O
are _ _ O
hard _ _ O
to _ _ O
understand _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

Blob _ _ O
Detection _ _ O
using _ _ B-concept
Contour _ _ O


 _ _ O
Another _ _ B-concept
method _ _ I-concept
is _ _ O
to _ _ O
detect _ _ O
contours _ _ O
of _ _ O
masked _ _ B-concept
image _ _ I-concept
A _ _ O
contour _ _ B-concept
is _ _ O
a _ _ O
curve _ _ B-concept
joining _ _ I-concept
all _ _ O
the _ _ O
continuous _ _ O
points _ _ O
( _ _ O
along _ _ O
the _ _ O
boundary _ _ O
) _ _ O
, _ _ O
having _ _ O
same _ _ O
color _ _ O
or _ _ O
intensity _ _ O
The _ _ O
contours _ _ O
are _ _ O
a _ _ O
useful _ _ B-concept
tool _ _ I-concept
for _ _ O
shape _ _ O
analysis _ _ O
and _ _ O
object _ _ O
detection _ _ O
and _ _ O
recognition _ _ O
In _ _ O
OpenCV _ _ O
, _ _ O
the _ _ O
function _ _ O
findContours _ _ O
( _ _ O
) _ _ O
is _ _ O
given _ _ B-concept


 _ _ I-concept
Thumrongsak _ _ I-concept
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

findContours _ _ O
( _ _ O
) _ _ O


 _ _ O
findContours _ _ B-concept
( _ _ O
) _ _ O
example _ _ B-concept
: _ _ I-concept
def _ _ I-concept
main _ _ O
( _ _ O
) _ _ O
: _ _ O
color_image _ _ O
= _ _ O
cv2.imread _ _ O
( _ _ O
' _ _ O
.. _ _ O
/ _ _ O
start_img.jpg _ _ O
' _ _ O
, _ _ O
cv2.IMREAD_COLOR _ _ O
) _ _ O
blur_image _ _ O
= _ _ O
cv2.GaussianBlur _ _ O
( _ _ O
color_image _ _ B-concept
, _ _ I-concept
( _ _ I-concept
5 _ _ O
, _ _ O
5 _ _ O
) _ _ O
, _ _ O
0 _ _ O
) _ _ O
cv2.namedWindow _ _ O
( _ _ O
' _ _ O
Contour _ _ O
Image _ _ O
' _ _ O
) _ _ O
( _ _ B-concept
cnts _ _ I-concept
, _ _ I-concept
_ _ _ O
) _ _ O
= _ _ O
cv2.findContours _ _ O
( _ _ O
mask_image.copy _ _ B-concept
( _ _ B-concept
) _ _ I-concept
, _ _ I-concept
cv2.RETR_TREE _ _ I-concept
, _ _ O
cv2.CHAIN_APPROX_SIMPLE _ _ O
) _ _ O
cv2.drawContours _ _ O
( _ _ O
blur_image _ _ B-concept
, _ _ I-concept
cnts _ _ I-concept
, _ _ O
-1 _ _ O
, _ _ O
( _ _ O
0 _ _ O
, _ _ O
255 _ _ O
, _ _ O
0 _ _ O
) _ _ O
, _ _ O
3 _ _ O
) _ _ O
cv2.imshow _ _ O
( _ _ O
' _ _ O
Contour _ _ O
Image _ _ O
' _ _ O
, _ _ O
blur_image _ _ B-concept
) _ _ O
cv2.waitKey _ _ O
( _ _ O
0 _ _ O
) _ _ O
; _ _ O
cv2.destroyAllWindows _ _ O
( _ _ O
) _ _ O
if _ _ O
_ _ _ O
_ _ _ O
name _ _ O
_ _ _ O
_ _ _ O
= _ _ O
= _ _ O
' _ _ O
_ _ _ O
_ _ _ O
main _ _ O
_ _ _ O
_ _ _ O
' _ _ O
: _ _ O
main _ _ O
( _ _ O
) _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

drawContours _ _ O
( _ _ O
) _ _ O
Use _ _ O
the _ _ B-concept
drawContours _ _ I-concept
( _ _ O
) _ _ O
to _ _ O
draw _ _ B-concept
all _ _ I-concept
contours _ _ I-concept
into _ _ O
the _ _ B-concept
original _ _ I-concept
image _ _ O


 _ _ O
Note _ _ O
that _ _ O
there _ _ O
are _ _ O
contours _ _ O
inside _ _ O
other _ _ B-concept
contours _ _ I-concept
We _ _ O
need _ _ O
bounding _ _ O
box _ _ O
for _ _ O
each _ _ O
contour _ _ O
and _ _ O
eliminate _ _ B-concept
contours _ _ I-concept
that _ _ O
are _ _ B-concept
inside _ _ I-concept
another _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

findContours _ _ O
( _ _ O
) _ _ O
with _ _ O
hierarchy _ _ B-concept
Filter _ _ O
out _ _ O
some _ _ O
contours _ _ O
def _ _ O
main _ _ B-concept
( _ _ I-concept
) _ _ I-concept
: _ _ I-concept
color_image _ _ I-concept
= _ _ O
cv2.imread _ _ O
( _ _ O
' _ _ O
.. _ _ O
/ _ _ O
start_img.jpg _ _ O
' _ _ O
, _ _ O
cv2.IMREAD_COLOR _ _ O
) _ _ O
blur_image _ _ O
= _ _ O
cv2.GaussianBlur _ _ O
( _ _ O
color_image _ _ B-concept
, _ _ I-concept
( _ _ I-concept
5 _ _ O
, _ _ O
5 _ _ O
) _ _ O
, _ _ O
0 _ _ O
) _ _ O
cv2.namedWindow _ _ O
( _ _ O
' _ _ O
Bounding _ _ O
' _ _ O
) _ _ O
( _ _ O
cnts _ _ O
, _ _ O
hierarchy _ _ O
) _ _ O
= _ _ O
cv2.findContours _ _ O
( _ _ O
mask_image.copy _ _ B-concept
( _ _ B-concept
) _ _ I-concept
, _ _ I-concept
cv2.RETR_TREE _ _ I-concept
, _ _ O
cv2.CHAIN_APPROX_SIMPLE _ _ O
) _ _ O
for _ _ O
i _ _ O
in _ _ O
range _ _ O
( _ _ O
0 _ _ O
, _ _ O
len _ _ O
( _ _ O
cnts _ _ O
) _ _ O
) _ _ O
: _ _ O
c _ _ O
= _ _ O
cnts _ _ O
[ _ _ O
i _ _ O
] _ _ O
if _ _ O
cv2.contourArea _ _ O
( _ _ O
c _ _ O
) _ _ O
< _ _ B-concept
100 _ _ I-concept
: _ _ I-concept
continue _ _ I-concept
if _ _ O
not _ _ O
hierarchy _ _ O
[ _ _ O
0 _ _ O
] _ _ O
[ _ _ O
i _ _ O
] _ _ O
[ _ _ O
3 _ _ O
] _ _ O
= _ _ O
= _ _ O
-1 _ _ O
: _ _ O
continue _ _ O
x _ _ O
, _ _ O
y _ _ O
, _ _ O
w _ _ O
, _ _ O
h _ _ O
= _ _ O
cv2.boundingRect _ _ O
( _ _ O
c _ _ O
) _ _ O
cv2.rectangle _ _ O
( _ _ O
blur_image _ _ O
, _ _ O
( _ _ O
x _ _ O
, _ _ O
y _ _ O
) _ _ O
, _ _ O
( _ _ O
x _ _ O
+ _ _ O
w _ _ O
, _ _ O
y _ _ O
+ _ _ O
h _ _ O
) _ _ O
, _ _ O
( _ _ O
0 _ _ O
, _ _ O
255 _ _ O
, _ _ O
0 _ _ O
) _ _ O
, _ _ O
3 _ _ O
) _ _ O
; _ _ O
cv2.imshow _ _ O
( _ _ O
' _ _ O
Bounding _ _ O
' _ _ O
, _ _ O
blur_image _ _ O
) _ _ O
cv2.waitKey _ _ O
( _ _ O
0 _ _ O
) _ _ O
; _ _ O
cv2.destroyAllWindows _ _ O
( _ _ O
) _ _ O
if _ _ O
_ _ _ O
_ _ _ O
name _ _ O
_ _ _ O
_ _ _ O
= _ _ O
= _ _ O
' _ _ O
_ _ _ O
_ _ _ O
main _ _ O
_ _ _ O
_ _ _ O
' _ _ O
: _ _ O
main _ _ O
( _ _ O
) _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O

drawContours _ _ O
( _ _ O
) _ _ O
After _ _ B-concept
filtering _ _ I-concept
out _ _ O
small _ _ O
contours _ _ O
and _ _ O
those _ _ B-concept
that _ _ I-concept
are _ _ O
inside _ _ O
another _ _ O


 _ _ O
Thumrongsak _ _ O
Kosiyatrakul _ _ O


 _ _ O
Blob _ _ O
Detection _ _ O



