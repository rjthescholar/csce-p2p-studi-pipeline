{"id": 47, "segment": ["train_set", "labeled"], "course": "cs0007", "lec": "lec20", "text": "CS 0007: Introduction to Java\nLecture 20\nNathan Ong\nUniversity of Pittsburgh\nNovember 22, 2016\n\nLong Story Short\n\u2022 Scanner has a buffering quirk. When\nscanning for a token (an item like\nboolean, int) that is not a line, the\nscanner reads up to the new line\ncharacter, but does not consume it.\n\u2022 When you call nextLine(), it sees the\nnew line, assumes it is done reading,\nand returns an empty String.\n\nA Reminder\n\u2022 The act of receiving input is called\nreading\n\u2022 Relevant classes that do reading are\nReaders\n\nA Re-examination\n\u2022 System.in\n\u2022 An InputStream\n\u2022 If we examine the API, InputStreams\ncan only read bytes. Not very helpful.\n\u2022 What could we try?\n\nInputStreamReader\n\u2022 Now we can read characters, but having\nto combine all the characters is difficult\n\u2022 Why don't we use the suggestion from\nthe API?\n\nBufferedReader\n\u2022 This thankfully allows us to read full\nlines of input\n\u2022 The input needs to be processed\ndepending on your needs\n\u2022 Let us first learn how to use\nBufferedReader correctly\n\nExceptions\n\u2022 An exception is an event meant to disrupt the\nflow of execution\n\u2022 To throw an exception is to see an exception\nbeing raised\n\u2022 To catch an exception is to acknowledge a\nthrown exception\n\u2022 You probably have already encountered some\nwhile debugging your code\n\u2022 We will focus on two of three types, which are\nmore common\n\nException Types\n\u2022 Checked\n\n- Exceptions that need to have a contingency plan\nshould the exception arise\n- These stop the compiler from running\n- Example: IOException\n\n\u2022 Unchecked\n\n- Exceptions that tend to indicate the program has\na flaw during its execution\n- These stop the program in the middle of\nexecution\n- Example: ArrayIndexOutOfBoundsException\n\nDealing with Exceptions\n\u2022 Checked\n- try, catch, finally\n\n\u2022 Unchecked\n- Fix your program code\n\nKeywords in Context\n\u2022 Everything inside the try block\nindicates the section of code that may\nthrow exceptions\n\u2022 Inside the catch's parentheses is the\nexpected exception to process, and the\nname given to it (usually 'e')\n\u2022 Inside the catch block indicates the\nsection of code that should be executed\nif the exception is caught\n\nSome FAQ\n\u2022 How do I know when an exception is thrown?\n- Check the API for relevant methods\n\n\u2022 How do I know which exception is thrown?\n- Check the API\n\n\u2022 How much code should I surround with try?\n- Only as much as you need\n- Note that scope applies here as well\n\n\u2022 Can I catch multiple exceptions?\n- Yes, you can use several catch blocks\n- We'll see an example soon\n\nExample\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.IOException;\n\npublic class BRExample\n{\npublic static void main(String[] args)\n{\nString line = \"\";\nSystem.out.println(\"Type something!\");\ntry\n{\nBufferedReader reader = new\nBufferedReader(new\nInputStreamReader(System.in));\nline = reader.readLine();\nreader.close();\n}\ncatch (IOException e)\n{\ne.printStackTrace();\n}\nSystem.out.println(line + \" is what you wrote.\");\n}//end method main\n}//End class BRExample\n\nConverting Strings into Useful\nPrimitives\n\u2022 Scanner gave us useful methods like\nnextInt() or nextDouble(). We can\ndo the same with BufferedReader, but\nnot directly.\n\u2022 We need to take another trip to the API,\nspecifically for the classes that back the\nprimitives.\n\u2022 Let's look at Integer\n\nExample\npublic class Converter\n{\npublic static int convertToInt(String line)\n{\ntry\n{\nreturn Integer.parseInt(line);\n}\ncatch (NumberFormatException e)\n{\n//??\n}\n}//end method main\n}//End class Converter\n\nExample\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.IOException;\n\npublic class BRExample2\n{\npublic static void main(String[] args)\n{\nint inputNum = -1;\nSystem.out.println(\"Type an integer!\");\ntry\n{\nBufferedReader reader = new\nBufferedReader(new\nInputStreamReader(System.in));\nString line = reader.readLine();\ninputNum = Converter.convertToInt(line);\nreader.close();\n}\ncatch (IOException e)\n{\ne.printStackTrace();\n}\nSystem.out.println(inputNum + \" + 1 = \" + (inputNum+1));\n}//end method main\n}//End class BRExample2\n\nA Note about Integer\n\u2022 Integer is a wrapper class around the\nprimitive int\n\u2022 All primitives have wrapper classes\n\u2022 Consult the API\n\nFile Input/Output\n\u2022 Files are the biggest way we interact\nwith computer data.\n\u2022 Your Word documents, your game save\nfiles, your Java source code, all of them\nare stored as files.\n\u2022 We want to read them too!\n\u2022 Let's check BufferedReader's API for\nany clues.\n\nFile Input/Output\n\u2022 Files are the biggest way we interact\nwith computer data.\n\u2022 Your Word documents, your game save\nfiles, your Java source code, all of them\nare stored as files.\n\u2022 We want to read them too!\n\u2022 Let's check BufferedReader's API for\nany clues.\n\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.IOException;\nimport java.io.FileNotFoundException;\n\npublic class BRWithFiles\n{\npublic static void main(String[] args)\n{\nint inputNum = -1;\nSystem.out.println(\"Type an integer!\");\ntry\n{\nBufferedReader reader = new BufferedReader(new\nFileReader(\"test.txt\"));\nString line = reader.readLine();\ninputNum = Converter.convertToInt(line);\nreader.close();\n}\ncatch (FileNotFoundException e)\n{\nSystem.err.println(\"The file was not found\");\n}\ncatch (IOException e)\n{\ne.printStackTrace();\n}\nSystem.out.println(\"The number in the file was: \" + inputNum);\n}//end method main\n}//End class BRWithFiles\n\nWriters and Writing\n\u2022 The act of providing output is called\nwriting\n\u2022 Relevant classes that do writing are\nWriters\n\u2022 How do I write to a File?\n\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.IOException;\npublic class InputAndOutput\n{\n...\npublic static String getInput(String prompt)\n{\nSystem.out.println(prompt);\nString input = null;\ntry\n{\nBufferedReader reader = new BufferedReader(new\nInputStreamReader(System.in));\ninput = reader.readLine();\nreader.close();\n}\ncatch (IOException e)\n{\ne.printStackTrace();\n}\nreturn input;\n}//end method getInput(String)\n}//End class InputAndOutput\n\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.IOException;\npublic class InputAndOutput\n{\n...\npublic static void writeOutput(String lines, String filename)\n{\ntry\n{\nFileWriter writer = new FileWriter(filename);\nwriter.write(lines);\nwriter.flush();\nwriter.close();\n}\ncatch (IOException e)\n{\ne.printStackTrace();\n}\n}//end method writeOutput(String,String)\n}//End class InputAndOutput\n\nExample\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.IOException;\npublic class InputAndOutput\n{\n...\npublic static void main(String[] args)\n{\nString filename = getInput(\"What\nfile would you like to\ncreate?\");\nString toStore = getInput(\"What\nwould you like to store in\nthe file?\");\nwriteOutput(filename,toStore);\n}//end method main\n}//End class InputAndOutput\n\n", "label": [[573, 576, "Concept"], [646, 649, "Concept"], [652, 669, "Concept"], [797, 800, "Concept"], [803, 817, "Concept"], [964, 978, "Concept"], [990, 1000, "Concept"], [1006, 1016, "Concept"], [1057, 1066, "Concept"], [1081, 1091, "Concept"], [1104, 1113, "Concept"], [1132, 1137, "Concept"], [1171, 1178, "Concept"], [1178, 1187, "Concept"], [1321, 1331, "Concept"], [1350, 1361, "Concept"], [1409, 1419, "Concept"], [1475, 1486, "Concept"], [1503, 1514, "Concept"], [1643, 1673, "Concept"], [1688, 1698, "Concept"], [1711, 1714, "Concept"], [1716, 1721, "Concept"], [1723, 1730, "Concept"], [1813, 1816, "Concept"], [1862, 1868, "Concept"], [1868, 1878, "Concept"], [1892, 1897, "Concept"], [1928, 1938, "Concept"], [2002, 2007, "Concept"], [2075, 2085, "Concept"], [2129, 2139, "Concept"], [2162, 2165, "Concept"], [2210, 2220, "Concept"], [2223, 2229, "Concept"], [2243, 2246, "Concept"], [2287, 2290, "Concept"], [2331, 2336, "Concept"], [2367, 2372, "Concept"], [2421, 2426, "Concept"], [2486, 2500, "Concept"], [2517, 2534, "Concept"], [2551, 2562, "Concept"], [2572, 2578, "Concept"], [2688, 2691, "Concept"], [2694, 2708, "Concept"], [2722, 2736, "Concept"], [2741, 2758, "Concept"], [2816, 2821, "Concept"], [2823, 2834, "Concept"], [2939, 2945, "Concept"], [3087, 3101, "Concept"], [3159, 3162, "Concept"], [3259, 3265, "Concept"], [3323, 3326, "Concept"], [3362, 3367, "Concept"], [3369, 3390, "Concept"], [3429, 3435, "Concept"], [3469, 3483, "Concept"], [3500, 3517, "Concept"], [3534, 3545, "Concept"], [3674, 3677, "Concept"], [3680, 3694, "Concept"], [3708, 3722, "Concept"], [3727, 3744, "Concept"], [3850, 3855, "Concept"], [3857, 3868, "Concept"], [3980, 3986, "Concept"], [4034, 4047, "Concept"], [4095, 4110, "Concept"], [4125, 4128, "Concept"], [4351, 4365, "Concept"], [4368, 4371, "Concept"], [4393, 4398, "Concept"], [4399, 4405, "Concept"], [4609, 4623, "Concept"], [4626, 4629, "Concept"], [4661, 4675, "Concept"], [4692, 4709, "Concept"], [4726, 4737, "Concept"], [4754, 4775, "Concept"], [4905, 4908, "Concept"], [4911, 4925, "Concept"], [4939, 4953, "Concept"], [4958, 4968, "Concept"], [5075, 5080, "Concept"], [5082, 5103, "Concept"], [5157, 5162, "Concept"], [5164, 5175, "Concept"], [5293, 5299, "Concept"], [5312, 5320, "Concept"], [5324, 5331, "Concept"], [5391, 5398, "Concept"], [5471, 5485, "Concept"], [5502, 5519, "Concept"], [5536, 5547, "Concept"], [5679, 5682, "Concept"], [5685, 5699, "Concept"], [5713, 5727, "Concept"], [5732, 5749, "Concept"], [5808, 5813, "Concept"], [5815, 5826, "Concept"], [5907, 5913, "Concept"], [5944, 5958, "Concept"], [5975, 5992, "Concept"], [6009, 6020, "Concept"], [6120, 6123, "Concept"], [6227, 6233, "Concept"], [6234, 6245, "Concept"], [6367, 6381, "Concept"], [6398, 6415, "Concept"], [6432, 6443, "Concept"], [6716, 6722, "Concept"]], "Comments": []}