{"id": 26, "segment": ["train_set", "labeled"], "course": "cs1550", "lec": "lec06", "text": "Introduction to Operating Systems\nCS/COE 1550\nSpring 2022\n\nSherif Khattab\nksm73@pitt.edu\n(Some slides are from Silberschatz, Galvin and Gagne \u00a92013)\n\nAnnouncements\n\u2022 Upcoming deadlines\n\u2022 Homework 3 is due next Monday 2/7\n\u2022 Lab 1 is due on 2/4\n\u2022 Project 1 due on 2/18\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nPrevious lecture ...\n\u2022 How processes (threads) are created and terminated\n\n\u2022 Tracing programs with fork() calls\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nMuddiest Points (fork)\n\u2022 can you clarify copy-and-write? does the memory\nautomatically get \"passed\" down or not?\n\u2022 I was confused how fork can be assigned to variable\nand whether its the child or parent that gets assigned\n\u2022 Fork tracing example\n\u2022 fork tracing!!$\n\u2022 How can a child process run a different program than\ntheir parent?\n\u2022 what is exec()\n\u2022 What data should you track when fork tracing\nCS 1550 - Operating Systems - Sherif Khattab\n\nMuddiest Points (wait())\n\u2022\n\nWhy can a child process become a zombie for a parent process, but\nnot the other way around?\n\n\u2022\n\nDoes most of the parent processes invoke wait( )? Is this the system\nsoftware engineers' job to ensure every process will invoke wait( )\ndefaultly to avoid creating zombie processes, or is OS's job and it\ncan arbitrarily invoke wait( ) or not?\n\n\u2022\n\ndoes a process actually wait when wait() is called? like stops\nrunning\n\n\u2022\n\nZombie vs Orphan processes\n\n\u2022\n\nWhat are the differences of a zombie and orphan process? The parent\ndoesnt invoke wait in either instance?\n\n\u2022\n\nImplementation of how init adopts orphaned processes.\n\n\u2022\n\nCan a process be orphan and zombie at the same time?\n\n\u2022\n\nOrphan versus zombie processes. The difference between when the\nparent process calls exit()\n\n\u2022\n\nIn what situation would a child not be a copy of its parent?\nCS 1550 - Operating Systems - Sherif Khattab\n\nMuddiest Points (Threads)\n\u2022 Similarities and differences between forks and threads\n\n\u2022 The difference between processes and threads in how\nthey're handled by the operating system. Are threads\nand processes treated the same by the OS beyond the\nthreads sharing memory? Do threads go through the\nsame states and transitions as processes?\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nMuddiest Points (Process Termination)\n\u2022 what does killing a process do, or what is the action the\nkill program takes to kill another?\n\u2022 exit vs kill vs abort\n\u2022 The differences between the exit(), Abort() and Kill().\nSpecifically, the difference between kill() and abort().\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nProblem of the Day\n\u2022 Bounded Buffer Problem\n\u2022 aka Producers Consumers Problem\n\n\u2022 A shared circular-array buffer with capacity n\n\u2022 A set of producer processes/threads\n\u2022 As set of consumer processes/threads\n\n\u2022 Requirements:\n\u2022 Never exceed the buffer capacity\n\u2022 Producers wait if the buffer is full\n\u2022 Consumers wait if the buffer is empty\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nProduces Consumers Problem\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nProducers Consumers Problem is everywhere!\n\u2022 Access to User Interface elements in mobile\napplications\n\u2022 Main UI thread\n\u2022 Background threads\n\u2022 e.g., download files, check email on mail server\n\n\u2022 Background threads send requests to UI thread to update\nUI elements\n\u2022 Requests are stored in a shared bounded buffer\n\u2022 Which threads are the producers?\n\u2022 Who threads are the consumers?\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nProducers Consumers Problem is everywhere!\n\u2022 Web Server\n\u2022 front-end processes/threads that interact with the HTTP\nconnection from the client (e.g., browser)\n\u2022 Back-end processes/threads that execute database\nqueries\n\u2022 Queries are inserted by front-end processes into a shared\nbuffer\n\u2022 Which threads are the producers?\n\u2022 Who threads are the consumers?\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nSolving Producers Consumers using Semaphores\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nHow to trace the solution?\n\nLet's define some events.\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nProducer arrives\nMoves as far as possible until the solid line\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nProducer enters\nMoves as far as possible past the solid line and until the\ndashed line\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nProducer leaves\nMoves as far as possible until the dotted line\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nConsumer arrives\nMoves as far as possible until the solid line\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nConsumer enters\nMoves as far as possible past the solid line and until the\ndashed line\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nConsumer leaves\nMoves as far as possible past the dashed line and until\nthe dotted line\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nTracing\n\nGiven a sequence of events, is the sequence feasible?\nIf yes, what is the system state at the end of the\nsequence?\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nSystem State\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nExample 1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nInitial state\n\n0\n\n3\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 arrives\n\n0\n\n2\n0\n0\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 enters\n\n0\n\n2\n1\n0\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP1 arrives\n\n0\n\n1\n1\n-1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP2 arrives\n\n0\n\n0\n1\n-2\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC0 arrives\n\n-1\n\n0\n1\n-2\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 leaves\n\n-1\n\n0\n1\n-2\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 leaves\n\n-1\n\n0\n1\n-1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 leaves\n\n-1\n\n0\n1\n-1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 leaves\n\n0\n\n0\n1\n-1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC0 enters\n\n0\n\n0\n1\n-1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC0 enters\n\n0\n\n0\n1\n-2\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC0 enters\n\n0\n\n0\n1\n-2\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nCan C0 enter?\n\n0\n\n0\n1\n-2\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nExample 2\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nInitial state\n\n0\n\n1\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC0 arrives\n\n0\n\n1\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC0 arrives\n\n-1\n\n1\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 arrives\n\n-1\n\n1\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 arrives\n\n-1\n\n0\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 arrives\n\n-1\n\n0\n0\n0\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 enters\n\n-1\n\n0\n0\n0\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 enters\n\n-1\n\n0\n1\n0\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 leaves\n\n-1\n\n0\n1\n0\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 leaves\n\n0\n\n0\n1\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 leaves\n\n0\n\n0\n1\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC0 enters\n\n0\n\n0\n1\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC0 enters\n\n0\n\n0\n1\n0\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nCan C0 enter?\n\n0\n\n0\n1\n0\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC0 enters\n\n0\n\n0\n0\n0\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC0 leaves\n\n0\n\n0\n0\n0\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC0 leaves\n\n0\n\n1\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nExample 3\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nInitial state\n\n0\n\n2\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC0 arrives\n\n0\n\n2\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC0 arrives\n\n-1\n\n2\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC1 arrives\n\n-1\n\n2\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC1 arrives\n\n-2\n\n2\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC2 arrives\n\n-2\n\n2\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC2 arrives\n\n-3\n\n2\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 arrives\n\n-3\n\n2\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 arrives\n\n-3\n\n1\n0\n1\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 arrives\n\n-3\n\n1\n0\n0\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 enters\n\n-3\n\n1\n0\n0\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nP0 enters\n\n-3\n\n1\n1\n0\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nC0 enters\n\n-3\n\n1\n1\n0\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nCan C0 enter?\n\n-3\n\n1\n1\n0\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n", "label": [[2545, 2567, "Concept"], [2574, 2601, "Concept"], [2981, 3008, "Concept"], [3407, 3434, "Concept"], [2545, 2559, "Concept"], [3277, 3291, "Concept"], [3270, 3291, "Concept"], [2614, 2635, "Concept"], [2607, 2635, "Concept"], [2765, 2780, "Concept"], [2663, 2671, "Concept"], [3998, 4006, "Concept"], [4108, 4116, "Concept"], [4242, 4250, "Concept"], [2702, 2710, "Concept"], [4352, 4360, "Concept"], [4462, 4470, "Concept"], [4596, 4604, "Concept"], [3839, 3849, "Concept"], [391, 398, "Concept"], [702, 709, "Concept"], [725, 732, "Concept"], [861, 868, "Concept"], [4731, 4738, "Concept"], [3998, 4014, "Concept"], [4108, 4123, "Concept"], [4242, 4257, "Concept"], [4352, 4368, "Concept"], [4462, 4477, "Concept"], [4596, 4611, "Concept"], [4814, 4826, "Concept"], [4902, 4914, "Concept"], [4748, 4766, "Concept"], [3036, 3050, "Concept"], [3090, 3092, "Concept"], [3211, 3213, "Concept"], [3231, 3233, "Concept"], [3036, 3059, "Concept"], [3090, 3099, "Concept"], [3211, 3220, "Concept"], [3102, 3120, "Concept"], [3175, 3193, "Concept"], [3452, 3462, "Concept"], [3465, 3484, "Concept"], [3649, 3668, "Concept"], [3566, 3584, "Concept"], [3516, 3520, "Concept"], [413, 419, "Concept"], [815, 821, "Concept"], [932, 938, "Concept"], [1321, 1327, "Concept"], [2412, 2418, "Concept"], [2457, 2463, "Concept"], [2400, 2407, "Concept"], [2468, 2475, "Concept"], [1704, 1710, "Concept"], [2392, 2398, "Concept"], [514, 528, "Concept"], [748, 761, "Concept"], [953, 966, "Concept"], [989, 1003, "Concept"], [1683, 1697, "Concept"], [1434, 1448, "Concept"], [2221, 2240, "Concept"], [1526, 1530, "Concept"]]}