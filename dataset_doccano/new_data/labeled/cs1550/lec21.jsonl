{"id": 14, "segment": ["train_set", "labeled"], "course": "cs1550", "lec": "lec21", "text": "Introduction to Operating Systems\nCS 1550\nSpring 2022\n\nSherif Khattab\nksm73@pitt.edu\n(Some slides are from Silberschatz, Galvin and Gagne \u00a92013)\n\nAnnouncements\n\u2022 Upcoming deadlines:\n\u2022 Homework 10: due on 4/11\n\u2022 Project 3: due on 4/11\n\u2022 Lab 4: due on 4/15\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n2\n\nPrevious lecture ...\n\u2022 How to allocate disk blocks to files and directories?\n\u2022 contiguous and linked\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n3\n\nMuddiest Points (Memory)\n\n\u2022 Is the reference bit initially set to 0 or 1 after a page is\nloaded into memory following a page fault?\n\u2022 Page locking\n\u2022 Unclear on how to use valid bit to indicate page fault.\nIs that because valid bit == 0 means the data at this\naddress is invalid, so we need to fetch a valid data\nfrom disk?\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n4\n\nMuddiest Points (File System)\n\u2022 Not sure what the numbers in the FAT cells\nrepresent?\n\u2022 Is it better to the int next_block at the beginning or\nend of the structure?\n\u2022 offset calculation was a little quick, can we review it\n\n\u2022 Logical to physical mapping calculation\n\u2022 Are block sizes all the same when using linked\nallocation?\n\u2022 What allocation method is used most commonly in\nmodern OS's?\nCS 1550 - Operating Systems - Sherif Khattab\n\n5\n\nMuddiest Points (Project 3)\n\u2022 Would you please explain about project 3?\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n6\n\nProblem of the Day\n\nHow to allocate disk blocks to files and directories?\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n7\n\nFile Allocation Table (FAT)\n\u2022 Links on disk are slow\n\u2022 Keep linked list in memory\n\n\u2022 Advantage: faster\n\u2022 Disadvantages\n\u2022 Have to copy it to disk at some point\n\u2022 Have to keep in-memory and on-disk\ncopy consistent\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n4\n-1\n-1\n-2\n-2\n-1\n3\n-1\n-1\n0\n-1\n-1\n-1\n-1\n-1\n-1\n\nB\n\nA\n\n8\n\nFAT Example\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n9\n\ni-node and FAT\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n10\n\nUsing a block index for allocation\n\u2022 Store file block addresses\nin an array\nName\ngrades\n\nindex\n4\n\nsize\n4802\n\n0\n\n1\n\n2\n\n3\n\n4\n\n5\n\n6\n\n7\n\n8\n\n9\n\n10\n\n11\n\n\u2022 Array itself is stored in a\ndisk block\n\u2022 Directory has a pointer to\nthis disk block\n\u2022 Non-existent blocks\nindicated by -1\n\n\u2022 Random access easy\n\u2022 Limit on file size?\n\n6\n9\n7\n0\n8\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n11\n\nMax File Size for Indexed Allocation\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n12\n\ni-node vs index block\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n13\n\nUnix Fast File System indexing scheme\nprotection mode\n\ndata\ndata\n\n...\n\nowner & group\ntimestamps\n\ndata\ndata\n\nsize\nblock count\nlink count\n\n...\n\nDirect pointers\n\nsingle indirect\ndouble indirect\ntriple indirect\ninode\n\n...\n\n\u2022\n\u2022\n\u2022\n\u2022\n\u2022\n\u2022\n\u2022\n\u2022\n\u2022\n\u2022\n\u2022\n\n\u2022\n\u2022\n\ndata\ndata\n\n\u2022\n\u2022\n\u2022\n\u2022\n\n\u2022\n\u2022\n\ndata\ndata\n\n\u2022\n\u2022\n\n\u2022\n\u2022\n\ndata\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n...\n...\n\n14\n\nFFS and Max File Size\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n15\n\nWhat's in a directory?\n\u2022 Two types of information\n\u2022\n\u2022\n\nFile names\nFile metadata (size, timestamps, etc.)\n\n\u2022 Basic choices for directory information\n\u2022\n\nStore all information in directory\n\u2022 Fixed size entries\n\u2022 Disk addresses and attributes in directory entry\n\n\u2022\n\nStore names & pointers to index nodes (i-nodes)\nattributes\ngames\nmail\nnews\nresearch\n\nattributes\nattributes\nattributes\nattributes\n\nStoring all information\nin the directory\n\ngames\nmail\nnews\nresearch\n\nUsing pointers to\nindex nodes\n\nCS 1550 - Operating Systems - Sherif Khattab\n\nattributes\nattributes\n\nattributes\n\n16\n\nHandling long file names in a directory\n\nCS 1550 - Operating Systems - Sherif Khattab\n\n17\n\nFree Block Tracking\n\n10\n\nCS/COE 1550 - Operating Systems - Sherif Khattab\n\n18\n\nFree Block Tracking Example 1\n\nCS/COE 1550 - Operating Systems - Sherif Khattab\n\n19\n\nFree Block Tracking Example 2\n\nCS/COE 1550 - Operating Systems - Sherif Khattab\n\n20\n\n", "label": [[1514, 1535, "Concept"], [894, 897, "Concept"], [1537, 1540, "Concept"], [1867, 1870, "Concept"], [1940, 1943, "Concept"], [1929, 1935, "Concept"], [2460, 2466, "Concept"], [2740, 2745, "Concept"], [2003, 2014, "Concept"], [2390, 2408, "Concept"], [2470, 2481, "Concept"], [2533, 2554, "Concept"], [2891, 2894, "Concept"], [2675, 2690, "Concept"], [2692, 2707, "Concept"], [2708, 2723, "Concept"], [2724, 2739, "Concept"], [2571, 2586, "Concept"], [2604, 2609, "Concept"], [2612, 2617, "Concept"], [2618, 2628, "Concept"], [3051, 3061, "Concept"], [2093, 2097, "Concept"], [2304, 2308, "Concept"], [2381, 2385, "Concept"], [2641, 2645, "Concept"], [2908, 2912, "Concept"], [3045, 3049, "Concept"], [3158, 3162, "Concept"], [2646, 2657, "Concept"], [2658, 2668, "Concept"], [2185, 2194, "Concept"], [2976, 2985, "Concept"], [3090, 3099, "Concept"], [3140, 3149, "Concept"], [3206, 3215, "Concept"], [3387, 3396, "Concept"], [3570, 3579, "Concept"], [3206, 3221, "Concept"], [3030, 3043, "Concept"], [3192, 3202, "Concept"], [3274, 3284, "Concept"], [3311, 3321, "Concept"], [3322, 3332, "Concept"], [3333, 3343, "Concept"], [3344, 3354, "Concept"], [3501, 3511, "Concept"], [3512, 3522, "Concept"], [3524, 3534, "Concept"], [3152, 3170, "Concept"], [2172, 2182, "Concept"], [2217, 2227, "Concept"], [3631, 3650, "Concept"], [3710, 3729, "Concept"], [3795, 3814, "Concept"], [2372, 2385, "Concept"], [2899, 2912, "Concept"]]}